{
  "swagger": "2.0",
  "info": {
    "title": "WhatsApp Multi-Device REST API",
    "description": "Enterprise-grade RESTful API for WhatsApp Multi-Device and Multi-Session implementation.\n\n## Authentication\n\nThis API uses a **3-tier authentication system**:\n\n### 1. Admin Authentication (X-Admin-Secret)\nFor managing API keys and system administration.\n```\nX-Admin-Secret: your-admin-secret\n```\n\n### 2. API Key Authentication (X-API-Key)\nFor creating devices. Each API key can create up to `max_devices` devices.\n```\nX-API-Key: wam_xxxxxxxxxxxxxxxx\n```\n\n### 3. JWT Bearer Token (Authorization)\nFor all device operations. Obtained when creating a device.\n```\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIs...\n```\n\n## Quick Start\n\n1. **Admin creates API Key** → `POST /admin/api-keys`\n2. **Customer creates Device** → `POST /devices` (returns JWT)\n3. **Customer uses JWT** → All `/devices/me/*` endpoints\n\n## Features\n\n- 60+ endpoints for complete WhatsApp automation\n- JWT tokens with no expiry (regenerate anytime)\n- Multi-tenant support via API keys\n- Webhook integration for real-time events",
    "version": "1.2.1",
    "contact": {
      "name": "API Support",
      "url": "https://github.com/gdbrns/go-whatsapp-multi-session-rest-api"
    }
  },
  "host": "localhost:7001",
  "basePath": "/",
  "schemes": ["http", "https"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "securityDefinitions": {
    "AdminAuth": {
      "type": "apiKey",
      "name": "X-Admin-Secret",
      "in": "header",
      "description": "Admin secret key for managing API keys. Set in .env as ADMIN_SECRET_KEY"
    },
    "APIKeyAuth": {
      "type": "apiKey",
      "name": "X-API-Key",
      "in": "header",
      "description": "API key for creating devices. Format: wam_xxxxxxxxxxxxxxxx"
    },
    "BearerAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "JWT Bearer token for device operations. Format: Bearer <jwt_token>"
    }
  },
  "tags": [
    {"name": "00 - Health", "description": "Server status and health check"},
    {"name": "01 - Documentation", "description": "API documentation and Swagger UI"},
    {"name": "02 - Admin", "description": "Admin dashboard, API key management, and system monitoring (Admin only)"},
    {"name": "03 - Device Registration", "description": "Create devices and manage JWT tokens"},
    {"name": "04 - Device Operations", "description": "Login, logout, status, and reconnection"},
    {"name": "05 - User Management", "description": "User profiles, privacy settings, and contacts"},
    {"name": "06 - Messaging", "description": "Send text, images, videos, audio, stickers, locations, contacts, and documents"},
    {"name": "07 - Message Actions", "description": "Read, react, edit, delete, reply to messages"},
    {"name": "08 - Group Management", "description": "Create, manage, and administer WhatsApp groups"},
    {"name": "09 - Presence & Status", "description": "Typing indicators, online status, disappearing messages"},
    {"name": "10 - App State", "description": "App state synchronization"},
    {"name": "11 - Webhooks", "description": "Webhook configuration and management"},
    {"name": "12 - Polls", "description": "Create polls, vote, and get results"},
    {"name": "13 - Newsletter/Channels", "description": "WhatsApp Channels - create, follow, manage newsletters"},
    {"name": "14 - Status/Stories", "description": "Post and manage WhatsApp Status/Stories"},
    {"name": "15 - Calls", "description": "Call handling - reject incoming calls"},
    {"name": "16 - Business", "description": "Business profile and message link operations"},
    {"name": "17 - Bots", "description": "WhatsApp AI Bots listing and profiles"},
    {"name": "18 - Contact QR", "description": "Contact QR code link generation and resolution"},
    {"name": "19 - History Sync", "description": "Request and manage message history synchronization"}
  ],
  "definitions": {
    "ErrorResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": false},
        "code": {"type": "integer", "example": 400},
        "message": {"type": "string", "example": "Bad request"},
        "error": {"type": "string", "example": "Bad request"}
      }
    },
    "UnauthorizedResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": false},
        "code": {"type": "integer", "example": 401},
        "message": {"type": "string", "example": "Unauthorized"},
        "error": {"type": "string", "example": "Invalid or missing authentication"}
      }
    },
    "NotFoundResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": false},
        "code": {"type": "integer", "example": 404},
        "message": {"type": "string", "example": "Not found"},
        "error": {"type": "string", "example": "Resource not found"}
      }
    },
    "ForbiddenResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": false},
        "code": {"type": "integer", "example": 403},
        "message": {"type": "string", "example": "Forbidden"},
        "error": {"type": "string", "example": "You don't have permission to perform this action"}
      }
    },
    "SuccessResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Success"},
        "data": {"type": "object"}
      }
    },
    "ServerStatusResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "WhatsApp API Multi-Device is running"},
        "data": {
          "type": "object",
          "properties": {
            "version": {"type": "string", "example": "2.0.0"},
            "uptime": {"type": "string", "example": "5d 12h 30m 15s"}
          }
        }
      }
    },
    "MessageSentResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Message sent successfully"},
        "data": {
          "type": "object",
          "properties": {
            "message_id": {"type": "string", "example": "3EB0ABC123DEF456789"},
            "status": {"type": "string", "example": "sent"},
            "timestamp": {"type": "integer", "example": 1702129024}
          }
        }
      }
    },
    "MessagesListResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Messages retrieved successfully"},
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "message_id": {"type": "string", "example": "3EB0ABC123DEF456789"},
              "from": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
              "text": {"type": "string", "example": "Hello, World!"},
              "timestamp": {"type": "integer", "example": 1702129024},
              "is_from_me": {"type": "boolean", "example": false}
            }
          }
        }
      }
    },
    "GroupInfoResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Group info retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "jid": {"type": "string", "example": "120363123456789012@g.us"},
            "name": {"type": "string", "example": "My Group"},
            "description": {"type": "string", "example": "Group description"},
            "owner": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
            "created_at": {"type": "integer", "example": 1702129024},
            "participant_count": {"type": "integer", "example": 25},
            "participants": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                  "is_admin": {"type": "boolean", "example": true},
                  "is_super_admin": {"type": "boolean", "example": false}
                }
              }
            }
          }
        }
      }
    },
    "GroupsListResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Groups retrieved successfully"},
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "jid": {"type": "string", "example": "120363123456789012@g.us"},
              "name": {"type": "string", "example": "My Group"},
              "participant_count": {"type": "integer", "example": 25}
            }
          }
        }
      }
    },
    "UserInfoResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "User info retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
            "name": {"type": "string", "example": "John Doe"},
            "status": {"type": "string", "example": "Hey there! I am using WhatsApp"},
            "picture_url": {"type": "string", "example": "https://pps.whatsapp.net/v/..."}
          }
        }
      }
    },
    "ContactsListResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Contacts retrieved successfully"},
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
              "name": {"type": "string", "example": "John Doe"},
              "push_name": {"type": "string", "example": "John"}
            }
          }
        }
      }
    },
    "WebhookResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Webhook retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "id": {"type": "integer", "example": 1},
            "url": {"type": "string", "example": "https://your-server.com/webhook"},
            "events": {"type": "array", "items": {"type": "string"}, "example": ["message.received", "connection.connected"]},
            "active": {"type": "boolean", "example": true},
            "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"}
          }
        }
      }
    },
    "WebhooksListResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Webhooks retrieved successfully"},
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {"type": "integer", "example": 1},
              "url": {"type": "string", "example": "https://your-server.com/webhook"},
              "events": {"type": "array", "items": {"type": "string"}, "example": ["message.received"]},
              "active": {"type": "boolean", "example": true}
            }
          }
        }
      }
    },
    "NewsletterResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Newsletter info retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "jid": {"type": "string", "example": "120363123456789012@newsletter"},
            "name": {"type": "string", "example": "My Channel"},
            "description": {"type": "string", "example": "Channel description"},
            "subscriber_count": {"type": "integer", "example": 1500},
            "picture_url": {"type": "string", "example": "https://pps.whatsapp.net/v/..."}
          }
        }
      }
    },
    "NewslettersListResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Newsletters retrieved successfully"},
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "jid": {"type": "string", "example": "120363123456789012@newsletter"},
              "name": {"type": "string", "example": "My Channel"},
              "subscriber_count": {"type": "integer", "example": 1500}
            }
          }
        }
      }
    },
    "PollCreatedResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Poll created successfully"},
        "data": {
          "type": "object",
          "properties": {
            "message_id": {"type": "string", "example": "3EB0ABC123DEF456789"},
            "question": {"type": "string", "example": "What's your favorite color?"},
            "options": {"type": "array", "items": {"type": "string"}, "example": ["Red", "Blue", "Green"]}
          }
        }
      }
    },
    "PrivacySettingsResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Privacy settings retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "last_seen": {"type": "string", "example": "contacts"},
            "profile_picture": {"type": "string", "example": "all"},
            "status": {"type": "string", "example": "contacts"},
            "read_receipts": {"type": "string", "example": "all"},
            "groups": {"type": "string", "example": "contacts"}
          }
        }
      }
    },
    "BusinessProfileResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Business profile retrieved successfully"},
        "data": {
          "type": "object",
          "properties": {
            "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
            "description": {"type": "string", "example": "Your trusted business partner"},
            "category": {"type": "string", "example": "Technology"},
            "website": {"type": "array", "items": {"type": "string"}, "example": ["https://example.com"]},
            "email": {"type": "string", "example": "contact@example.com"},
            "address": {"type": "string", "example": "123 Business Street, City"}
          }
        }
      }
    },
    "AdminStats": {
      "type": "object",
      "properties": {
        "total_api_keys": {"type": "integer", "example": 5},
        "active_api_keys": {"type": "integer", "example": 4},
        "total_devices": {"type": "integer", "example": 25},
        "connected_devices": {"type": "integer", "example": 18},
        "disconnected_devices": {"type": "integer", "example": 5},
        "pending_devices": {"type": "integer", "example": 2},
        "logged_out_devices": {"type": "integer", "example": 0},
        "total_webhooks": {"type": "integer", "example": 12},
        "active_webhooks": {"type": "integer", "example": 10}
      }
    },
    "SystemHealth": {
      "type": "object",
      "properties": {
        "status": {"type": "string", "example": "ok"},
        "database": {"type": "string", "example": "ok"},
        "whatsapp_clients": {"type": "integer", "example": 18},
        "total_devices": {"type": "integer", "example": 25},
        "memory_alloc": {"type": "string", "example": "128.5 MB"},
        "memory_sys": {"type": "string", "example": "256.0 MB"},
        "goroutines": {"type": "integer", "example": 42},
        "uptime": {"type": "string", "example": "5d 12h 30m 15s"},
        "uptime_seconds": {"type": "integer", "example": 475815},
        "version": {"type": "string", "example": "2.0.0"},
        "go_version": {"type": "string", "example": "go1.21.0"}
      }
    },
    "APIKey": {
      "type": "object",
      "properties": {
        "id": {"type": "integer", "example": 1},
        "api_key": {"type": "string", "example": "ak_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"},
        "customer_name": {"type": "string", "example": "Acme Corp"},
        "customer_email": {"type": "string", "example": "admin@acme.com"},
        "max_devices": {"type": "integer", "example": 10},
        "rate_limit_per_hour": {"type": "integer", "example": 1000},
        "is_active": {"type": "boolean", "example": true}
      }
    },
    "Device": {
      "type": "object",
      "properties": {
        "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
        "device_name": {"type": "string", "example": "Production Phone"},
        "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
        "status": {"type": "string", "example": "connected"},
        "token": {"type": "string", "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}
      }
    },
    "JWTClaims": {
      "type": "object",
      "properties": {
        "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
        "api_key_id": {"type": "integer", "example": 1},
        "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
        "version": {"type": "integer", "example": 1, "description": "JWT version for invalidation"}
      }
    }
  },
  "paths": {
    "/": {
      "get": {
        "tags": ["00 - Health"],
        "summary": "Server Status",
        "description": "Get server status and health check. No authentication required.",
        "responses": {
          "200": {
            "description": "Server is running",
            "schema": {"$ref": "#/definitions/ServerStatusResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "WhatsApp API Multi-Device is running",
                "data": {
                  "version": "2.0.0",
                  "uptime": "5d 12h 30m 15s"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Unable to process request"
              }
            }
          }
        }
      }
    },
    "/docs/swagger.json": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "OpenAPI Specification (JSON)",
        "description": "Get OpenAPI/Swagger documentation in JSON format",
        "produces": ["application/json"],
        "responses": {"200": {"description": "Swagger JSON documentation"}}
      }
    },
    "/docs/swagger.yaml": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "OpenAPI Specification (YAML)",
        "description": "Get OpenAPI/Swagger documentation in YAML format",
        "produces": ["application/yaml"],
        "responses": {"200": {"description": "Swagger YAML documentation"}}
      }
    },
    "/docs/*": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "Swagger UI",
        "description": "Interactive API documentation interface",
        "responses": {"200": {"description": "Swagger UI HTML"}}
      }
    },
    "/admin/stats": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Admin Statistics",
        "description": "Get system-wide statistics for admin dashboard including API keys, devices, and webhook counts",
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Statistics retrieved successfully"},
                "data": {"$ref": "#/definitions/AdminStats"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Statistics retrieved successfully",
                "data": {
                  "total_api_keys": 5,
                  "active_api_keys": 4,
                  "total_devices": 25,
                  "connected_devices": 18,
                  "disconnected_devices": 5,
                  "pending_devices": 2,
                  "logged_out_devices": 0,
                  "total_webhooks": 12,
                  "active_webhooks": 10
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid admin secret",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or missing admin secret"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve statistics"
              }
            }
          }
        }
      }
    },
    "/admin/health": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get System Health",
        "description": "Get comprehensive system health information including database status, memory usage, uptime, and connected WhatsApp clients",
        "responses": {
          "200": {
            "description": "Health information retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "System health retrieved successfully"},
                "data": {"$ref": "#/definitions/SystemHealth"}
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/whatsapp/version": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get WhatsApp Web Version",
        "description": "Get the currently configured WhatsApp Web version and the last refresh status used by whatsmeow.",
        "responses": {
          "200": {
            "description": "WhatsApp Web version status retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "WhatsApp Web version status retrieved successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "wa_web_version": {
                      "type": "object",
                      "properties": {
                        "array": {
                          "type": "array",
                          "items": {"type": "integer"},
                          "example": [2, 3000, 1012345678]
                        },
                        "string": {"type": "string", "example": "2.3000.1012345678"}
                      }
                    },
                    "last_refreshed": {"type": "string", "example": "2025-12-21T10:30:00Z"},
                    "last_error": {"type": "string", "example": ""}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "WhatsApp Web version status retrieved successfully",
                "data": {
                  "wa_web_version": {
                    "array": [2, 3000, 1012345678],
                    "string": "2.3000.1012345678"
                  },
                  "last_refreshed": "2025-12-21T10:30:00Z",
                  "last_error": ""
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/whatsapp/version/refresh": {
      "post": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Refresh WhatsApp Web Version",
        "description": "Fetch and apply the latest WhatsApp Web version via whatsmeow. This affects new connections globally.",
        "parameters": [
          {
            "name": "force",
            "in": "query",
            "required": false,
            "type": "boolean",
            "default": true,
            "description": "Force refresh even if recently refreshed"
          }
        ],
        "responses": {
          "200": {
            "description": "WhatsApp Web version refreshed successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "WhatsApp Web version refreshed successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "refreshed": {"type": "boolean", "example": true},
                    "wa_web_version": {
                      "type": "object",
                      "properties": {
                        "array": {
                          "type": "array",
                          "items": {"type": "integer"},
                          "example": [2, 3000, 1012345678]
                        },
                        "string": {"type": "string", "example": "2.3000.1012345678"}
                      }
                    },
                    "last_refreshed": {"type": "string", "example": "2025-12-21T10:30:00Z"},
                    "last_error": {"type": "string", "example": ""}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "WhatsApp Web version refreshed successfully",
                "data": {
                  "refreshed": true,
                  "wa_web_version": {
                    "array": [2, 3000, 1012345678],
                    "string": "2.3000.1012345678"
                  },
                  "last_refreshed": "2025-12-21T10:30:00Z",
                  "last_error": ""
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/devices": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List All Devices",
        "description": "Get all devices across all API keys with customer information. Useful for admin dashboard overview.",
        "responses": {
          "200": {
            "description": "Devices retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Devices retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                      "device_name": {"type": "string", "example": "Production Phone"},
                      "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                      "status": {"type": "string", "example": "connected"},
                      "customer_name": {"type": "string", "example": "Acme Corp"},
                      "api_key_id": {"type": "integer", "example": 1},
                      "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"},
                      "last_active_at": {"type": "string", "example": "2025-12-17T10:30:00Z"}
                    }
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Devices retrieved successfully",
                "data": [
                  {
                    "device_id": "550e8400-e29b-41d4-a716-446655440000",
                    "device_name": "Production Phone",
                    "whatsmeow_jid": "6281234567890@s.whatsapp.net",
                    "status": "connected",
                    "customer_name": "Acme Corp",
                    "api_key_id": 1,
                    "created_at": "2025-01-01T00:00:00Z",
                    "last_active_at": "2025-12-17T10:30:00Z"
                  },
                  {
                    "device_id": "660e8400-e29b-41d4-a716-446655440001",
                    "device_name": "Support Phone",
                    "whatsmeow_jid": "6289876543210@s.whatsapp.net",
                    "status": "disconnected",
                    "customer_name": "Tech Solutions",
                    "api_key_id": 2,
                    "created_at": "2025-02-15T00:00:00Z",
                    "last_active_at": "2025-12-16T08:15:00Z"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid admin secret",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or missing admin secret"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve devices"
              }
            }
          }
        }
      }
    },
    "/admin/devices/status": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get All Device Statuses",
        "description": "Get live connection status for all devices across all API keys. Checks actual WhatsApp connection state in real-time.",
        "responses": {
          "200": {
            "description": "Device statuses retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device statuses retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string"},
                      "device_name": {"type": "string"},
                      "whatsmeow_jid": {"type": "string"},
                      "db_status": {"type": "string"},
                      "client_loaded": {"type": "boolean"},
                      "connected": {"type": "boolean"},
                      "is_connected": {"type": "boolean"},
                      "is_logged_in": {"type": "boolean"},
                      "error": {"type": "string"}
                    }
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Device statuses retrieved successfully",
                "data": [
                  {
                    "device_id": "550e8400-e29b-41d4-a716-446655440000",
                    "device_name": "Production Phone",
                    "whatsmeow_jid": "6281234567890@s.whatsapp.net",
                    "db_status": "active",
                    "client_loaded": true,
                    "connected": true,
                    "is_connected": true,
                    "is_logged_in": true,
                    "error": ""
                  },
                  {
                    "device_id": "660e8400-e29b-41d4-a716-446655440001",
                    "device_name": "Support Phone",
                    "whatsmeow_jid": "6289876543210@s.whatsapp.net",
                    "db_status": "disconnected",
                    "client_loaded": false,
                    "connected": false,
                    "is_connected": false,
                    "is_logged_in": true,
                    "error": "Connection timeout"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid admin secret",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or missing admin secret"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve device statuses"
              }
            }
          }
        }
      }
    },
    "/admin/devices/reconnect": {
      "post": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Reconnect All Devices",
        "description": "Attempt to reconnect all disconnected devices. Useful for batch recovery after server restart or network issues.",
        "responses": {
          "200": {
            "description": "Reconnect operation completed",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Reconnect operation completed"},
                "data": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                          "device_name": {"type": "string", "example": "Production Phone"},
                          "status": {"type": "string", "enum": ["reconnected", "failed", "skipped", "already_connected"]},
                          "error": {"type": "string", "example": ""}
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {"type": "integer", "example": 25},
                        "reconnected": {"type": "integer", "example": 5},
                        "failed": {"type": "integer", "example": 2},
                        "skipped": {"type": "integer", "example": 18}
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/webhooks/stats": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Webhook Statistics",
        "description": "Get webhook delivery statistics including success/failure rates",
        "responses": {
          "200": {
            "description": "Webhook statistics retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Webhook statistics retrieved successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "total_webhooks": {"type": "integer", "example": 12},
                    "active_webhooks": {"type": "integer", "example": 10},
                    "total_deliveries_24h": {"type": "integer", "example": 5420},
                    "successful_deliveries_24h": {"type": "integer", "example": 5380},
                    "failed_deliveries_24h": {"type": "integer", "example": 40},
                    "success_rate": {"type": "number", "example": 99.26}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Webhook statistics retrieved successfully",
                "data": {
                  "total_webhooks": 12,
                  "active_webhooks": 10,
                  "total_deliveries_24h": 5420,
                  "successful_deliveries_24h": 5380,
                  "failed_deliveries_24h": 40,
                  "success_rate": 99.26
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid admin secret",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or missing admin secret"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve webhook statistics"
              }
            }
          }
        }
      }
    },
    "/admin/api-keys": {
      "post": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Create API Key",
        "description": "Create a new API key for a customer. The API key is only shown once in the response - save it securely!",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["customer_name"],
              "properties": {
                "customer_name": {"type": "string", "example": "Acme Corp", "description": "Customer/company name"},
                "customer_email": {"type": "string", "example": "admin@acme.com", "description": "Contact email (optional)"},
                "max_devices": {"type": "integer", "example": 10, "default": 5, "description": "Maximum devices this key can create"},
                "rate_limit_per_hour": {"type": "integer", "example": 5000, "default": 1000, "description": "API rate limit per hour"}
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "API key created successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 201},
                "message": {"type": "string", "example": "API key created successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "id": {"type": "integer", "example": 1},
                    "api_key": {"type": "string", "example": "ak_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6", "description": "Save this! Only shown once"},
                    "customer_name": {"type": "string", "example": "Acme Corp"},
                    "max_devices": {"type": "integer", "example": 10},
                    "rate_limit_per_hour": {"type": "integer", "example": 1000}
                  }
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List All API Keys",
        "description": "Get list of all API keys (keys are masked for security)",
        "responses": {
          "200": {
            "description": "API keys retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {"type": "integer", "example": 1},
                      "api_key_masked": {"type": "string", "example": "ak_a1b2...o5p6"},
                      "customer_name": {"type": "string", "example": "Acme Corp"},
                      "customer_email": {"type": "string", "example": "admin@acme.com"},
                      "device_count": {"type": "integer", "example": 3},
                      "max_devices": {"type": "integer", "example": 10},
                      "rate_limit_per_hour": {"type": "integer", "example": 1000},
                      "is_active": {"type": "boolean", "example": true}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/api-keys/{id}": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get API Key Details",
        "description": "Get detailed information about a specific API key including its devices",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {"description": "API key details retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "patch": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Update API Key",
        "description": "Update API key settings (name, limits, active status)",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "customer_name": {"type": "string"},
                "customer_email": {"type": "string"},
                "max_devices": {"type": "integer"},
                "rate_limit_per_hour": {"type": "integer"},
                "is_active": {"type": "boolean", "description": "Set to false to disable all requests with this key"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "API key updated successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Delete API Key",
        "description": "Delete an API key and ALL its associated devices. This action is irreversible!",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "API key deleted successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/api-keys/{id}/devices": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List Devices by API Key",
        "description": "Get all devices created with a specific API key",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {
            "description": "Devices retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Devices retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                      "device_name": {"type": "string", "example": "Production Phone"},
                      "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                      "status": {"type": "string", "example": "active"},
                      "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"},
                      "last_active_at": {"type": "string", "example": "2025-12-03T10:30:00Z"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/api-keys/{id}/devices/status": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Device Statuses by API Key",
        "description": "Live connection status for all devices under a specific API key",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {
            "description": "Device statuses retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device statuses retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                      "device_name": {"type": "string", "example": "Production Phone"},
                      "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                      "db_status": {"type": "string", "example": "active"},
                      "client_loaded": {"type": "boolean", "example": true},
                      "connected": {"type": "boolean", "example": true, "description": "Legacy flag: true only when fully connected"},
                      "is_connected": {"type": "boolean", "example": true},
                      "is_logged_in": {"type": "boolean", "example": true},
                      "error": {"type": "string", "example": ""}
                    }
                  }
                }
              }
            }
          },
          "404": {"description": "API key not found"}
        }
      }
    },
    "/admin/devices/{device_id}": {
      "delete": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Delete Device (Admin)",
        "description": "Admin can delete any device by ID",
        "parameters": [
          {"name": "device_id", "in": "path", "required": true, "type": "string", "description": "Device UUID"}
        ],
        "responses": {
          "200": {"description": "Device deleted successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Device not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices": {
      "post": {
        "security": [{"APIKeyAuth": []}],
        "tags": ["03 - Device Registration"],
        "summary": "Create Device",
        "description": "Create a new device and receive a JWT token. This token is used for all subsequent device operations.\n\n**Important:** Save the JWT token securely - it provides access to all device operations.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "device_name": {"type": "string", "example": "Production Phone", "description": "Optional friendly name for the device"}
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Device created successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 201},
                "message": {"type": "string", "example": "Device created successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                    "device_secret": {"type": "string", "example": "a1b2c3d4e5f6g7h8", "description": "Store securely; required to regenerate tokens"},
                    "device_name": {"type": "string", "example": "Production Phone"},
                    "token": {"type": "string", "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...", "description": "JWT for all device operations"},
                    "message": {"type": "string", "example": "Device created successfully. Save the device_secret securely."}
                  }
                }
              }
            }
          },
          "400": {"description": "Device limit reached for this API key"},
          "401": {"description": "Invalid API key"}
        }
      }
    },
    "/devices/token": {
      "post": {
        "tags": ["03 - Device Registration"],
        "summary": "Regenerate JWT Token",
        "description": "Regenerate JWT token for a device. This invalidates all previous tokens for this device.\n\n**Use case:** If a token is compromised, regenerate to revoke access.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["device_id", "device_secret"],
              "properties": {
                "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                "device_secret": {"type": "string", "example": "a1b2c3d4e5f6g7h8", "description": "Device secret returned at creation time"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token regenerated successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Token regenerated successfully. All previous tokens are now invalid."},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string"},
                    "token": {"type": "string", "description": "New JWT token (old tokens are now invalid)"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Get Current Device Info",
        "description": "Get information about the current device (from JWT token)",
        "responses": {
          "200": {
            "description": "Device info retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device info retrieved successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                    "device_name": {"type": "string", "example": "Production Phone"},
                    "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                    "status": {"type": "string", "example": "connected"},
                    "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"},
                    "last_active": {"type": "string", "example": "2025-12-17T10:30:00Z"}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Device info retrieved successfully",
                "data": {
                  "device_id": "550e8400-e29b-41d4-a716-446655440000",
                  "device_name": "Production Phone",
                  "whatsmeow_jid": "6281234567890@s.whatsapp.net",
                  "status": "connected",
                  "created_at": "2025-01-01T00:00:00Z",
                  "last_active": "2025-12-17T10:30:00Z"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve device info"
              }
            }
          }
        }
      }
    },
    "/devices/me/status": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Get Device Connection Status",
        "description": "Detailed device status including DB status, client load state, connection, and login flags.",
        "responses": {
          "200": {
            "description": "Status retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "db_status": {"type": "string", "example": "active", "description": "Database status: pending | active | disconnected | logged_out"},
                    "client_loaded": {"type": "boolean", "example": true, "description": "Whether client is loaded in memory"},
                    "connected": {"type": "boolean", "example": true, "description": "Legacy flag: true only when fully connected and logged in"},
                    "is_connected": {"type": "boolean", "example": true, "description": "Connected to WhatsApp servers"},
                    "is_logged_in": {"type": "boolean", "example": true, "description": "Has authenticated session"},
                    "error": {"type": "string", "example": "", "description": "Error message when not connected/logged in"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me/login": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Login with QR Code",
        "description": "Generate QR code for WhatsApp login. Scan with WhatsApp app.",
        "consumes": ["application/x-www-form-urlencoded"],
        "parameters": [
          {"name": "output", "in": "formData", "type": "string", "enum": ["html", "json"], "default": "json", "description": "Response format"}
        ],
        "responses": {
          "200": {
            "description": "QR code generated successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "QR code generated successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "qr_code": {"type": "string", "example": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."},
                    "timeout": {"type": "integer", "example": 60}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "QR code generated successfully",
                "data": {
                  "qr_code": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...",
                  "timeout": 60
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to generate QR code"
              }
            }
          }
        }
      }
    },
    "/devices/me/login-code": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Login with Pairing Code",
        "description": "Generate pairing code for WhatsApp login (no QR scan needed). Enter the code in WhatsApp > Linked Devices > Link with phone number.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["phone"],
              "properties": {
                "phone": {"type": "string", "example": "6281234567890", "description": "Phone number without + or spaces"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pairing code generated successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Pairing code generated successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "pair_code": {"type": "string", "example": "ABCD-1234"},
                    "timeout": {"type": "integer", "example": 120}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Pairing code generated successfully",
                "data": {
                  "pair_code": "ABCD-1234",
                  "timeout": 120
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Phone number is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to generate pairing code"
              }
            }
          }
        }
      }
    },
    "/devices/me/reconnect": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Reconnect Device",
        "description": "Manually reconnect a disconnected device to WhatsApp",
        "responses": {
          "200": {
            "description": "Device reconnected successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device reconnected successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Device reconnected successfully"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to reconnect device"
              }
            }
          }
        }
      }
    },
    "/devices/me/session": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Logout Device",
        "description": "Logout from WhatsApp and remove the session. You'll need to scan QR again.",
        "responses": {
          "200": {
            "description": "Device logged out successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device logged out successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Device logged out successfully"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to logout device"
              }
            }
          }
        }
      }
    },
    "/devices/me/proxy": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Get Device Proxy Configuration",
        "description": "Retrieve the current HTTP proxy configuration for this device. Per-device proxy overrides global WHATSAPP_CLIENT_PROXY_URL setting.",
        "responses": {
          "200": {
            "description": "Proxy configuration retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device proxy configuration"},
                "data": {
                  "type": "object",
                  "properties": {
                    "proxy_url": {"type": "string", "example": "http://proxy.example.com:8080"},
                    "active": {"type": "boolean", "example": true}
                  }
                }
              }
            }
          },
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Set Device Proxy Configuration",
        "description": "Configure HTTP proxy for this device. Overrides global WHATSAPP_CLIENT_PROXY_URL. Use empty string to disable per-device proxy. Device will reconnect automatically.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["proxy_url"],
              "properties": {
                "proxy_url": {
                  "type": "string",
                  "example": "http://proxy.example.com:8080",
                  "description": "HTTP/HTTPS proxy URL. Empty string to disable."
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Proxy configured successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device proxy configured successfully"}
              }
            }
          },
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices/me/push-notifications": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Register for Push Notifications",
        "description": "Register device for push notifications. Supports FCM (Firebase), APNs (Apple), or webhook-based notifications.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["platform"],
              "properties": {
                "platform": {
                  "type": "string",
                  "enum": ["fcm", "apns", "webhook"],
                  "example": "webhook",
                  "description": "Push notification platform"
                },
                "token": {
                  "type": "string",
                  "example": "",
                  "description": "Push token (required for fcm/apns, not needed for webhook)"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Push notifications registered",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Push notifications registered successfully"}
              }
            }
          },
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices/me/contacts/{phone}/registered": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Check WhatsApp Registration",
        "description": "Check if a phone number is registered on WhatsApp",
        "parameters": [
          {"name": "phone", "in": "path", "required": true, "type": "string", "example": "6281234567890"}
        ],
        "responses": {
          "200": {
            "description": "Registration status retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Registration status retrieved successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "phone": {"type": "string", "example": "6281234567890"},
                    "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                    "is_registered": {"type": "boolean", "example": true, "description": "true if the phone is a valid WhatsApp account"}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Registration status retrieved successfully",
                "data": {
                  "phone": "6281234567890",
                  "jid": "6281234567890@s.whatsapp.net",
                  "is_registered": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to check registration status"
              }
            }
          }
        }
      }
    },
    "/history/sync": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["19 - History Sync"],
        "summary": "Build History Sync Request",
        "description": "Request message history from WhatsApp servers. History will be delivered asynchronously via history.sync_complete webhook event. WhatsApp has rate limits on history sync requests.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "count": {
                  "type": "integer",
                  "example": 25,
                  "default": 25,
                  "minimum": 1,
                  "maximum": 100,
                  "description": "Number of messages to sync"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "History sync requested",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "History sync requested"},
                "data": {
                  "type": "object",
                  "properties": {
                    "requested": {"type": "boolean", "example": true},
                    "count": {"type": "integer", "example": 25},
                    "note": {"type": "string", "example": "History will be delivered via history.sync_complete webhook event"}
                  }
                }
              }
            }
          },
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{user_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get User Info",
        "description": "Get user profile information by JID",
        "parameters": [
          {"name": "user_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"}
        ],
        "responses": {
          "200": {
            "description": "User info retrieved successfully",
            "schema": {"$ref": "#/definitions/UserInfoResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "User info retrieved successfully",
                "data": {
                  "jid": "6281234567890@s.whatsapp.net",
                  "name": "John Doe",
                  "status": "Hey there! I am using WhatsApp",
                  "picture_url": "https://pps.whatsapp.net/v/t61.24694-24/..."
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "404": {
            "description": "User not found",
            "schema": {"$ref": "#/definitions/NotFoundResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 404,
                "message": "Not found",
                "error": "User not found"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve user info"
              }
            }
          }
        }
      }
    },
    "/users/{user_jid}/profile-picture": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Profile Picture",
        "description": "Get user's profile picture URL",
        "parameters": [
          {"name": "user_jid", "in": "path", "required": true, "type": "string"}
        ],
        "responses": {
          "200": {"description": "Profile picture URL retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Profile picture not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{user_jid}/block": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Block User",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User blocked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Unblock User",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User unblocked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/privacy": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Privacy Settings",
        "responses": {
          "200": {
            "description": "Privacy settings retrieved successfully",
            "schema": {"$ref": "#/definitions/PrivacySettingsResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Privacy settings retrieved successfully",
                "data": {
                  "last_seen": "contacts",
                  "profile_picture": "all",
                  "status": "contacts",
                  "read_receipts": "all",
                  "groups": "contacts"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve privacy settings"
              }
            }
          }
        }
      },
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Update Privacy Settings",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "setting": {"type": "string", "enum": ["last_seen", "profile_picture", "status", "read_receipts", "groups"]},
                "value": {"type": "string", "enum": ["all", "contacts", "contact_blacklist", "none"]}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Privacy settings updated successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Privacy settings updated successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Privacy settings updated successfully"
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Invalid setting or value"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to update privacy settings"
              }
            }
          }
        }
      }
    },
    "/users/me/status-privacy": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Status Privacy",
        "description": "Get status/story privacy settings - who receives your status broadcasts",
        "responses": {
          "200": {"description": "Status privacy retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Update About Status",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "string", "example": "Available"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Status updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{jid}/devices": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get User's Linked Devices",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Linked devices retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/profile-photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Set Profile Photo",
        "description": "Set your WhatsApp profile photo. Upload as multipart form or base64 JSON.",
        "consumes": ["multipart/form-data", "application/json"],
        "parameters": [
          {"name": "file", "in": "formData", "type": "file", "description": "Profile photo image file (JPEG/PNG)"}
        ],
        "responses": {
          "200": {"description": "Profile photo set successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/contacts": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Contacts",
        "description": "Retrieve all saved contacts from WhatsApp",
        "responses": {
          "200": {
            "description": "Contacts retrieved successfully",
            "schema": {"$ref": "#/definitions/ContactsListResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Contacts retrieved successfully",
                "data": [
                  {
                    "jid": "6281234567890@s.whatsapp.net",
                    "name": "John Doe",
                    "push_name": "John"
                  },
                  {
                    "jid": "6289876543210@s.whatsapp.net",
                    "name": "Jane Smith",
                    "push_name": "Jane"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve contacts"
              }
            }
          }
        }
      }
    },
    "/users/me/contacts/sync": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Sync Contacts",
        "description": "Check which phone numbers are registered on WhatsApp",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["phones"],
              "properties": {
                "phones": {"type": "array", "items": {"type": "string"}, "example": ["6281234567890", "6289876543210"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Contacts sync results", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/blocklist": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Blocklist",
        "description": "Retrieve list of blocked contacts",
        "responses": {
          "200": {"description": "Blocklist retrieved successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/messages": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Text Message",
        "description": "Send a text message to a chat or group",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["text"],
              "properties": {
                "text": {"type": "string", "example": "Hello, World!"},
                "reply_to_message_id": {"type": "string", "description": "Message ID to reply to"},
                "typing_simulation": {"type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
                "presence_simulation": {"type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Message sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Text field is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send message"
              }
            }
          }
        }
      },
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Get Chat Messages",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "limit", "in": "query", "type": "integer", "default": 50},
          {"name": "before", "in": "query", "type": "string"},
          {"name": "after", "in": "query", "type": "string"}
        ],
        "responses": {
          "200": {
            "description": "Messages retrieved successfully",
            "schema": {"$ref": "#/definitions/MessagesListResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Messages retrieved successfully",
                "data": [
                  {
                    "message_id": "3EB0ABC123DEF456789",
                    "from": "6281234567890@s.whatsapp.net",
                    "text": "Hello, World!",
                    "timestamp": 1702129024,
                    "is_from_me": false
                  },
                  {
                    "message_id": "3EB0ABC123DEF456790",
                    "from": "me",
                    "text": "Hi there!",
                    "timestamp": 1702129030,
                    "is_from_me": true
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve messages"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/images": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Image",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Image file (JPEG, PNG, GIF, WebP)"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Image caption"},
          {"name": "view_once", "in": "formData", "type": "boolean", "default": false, "description": "Send as view once"},
          {"name": "typing_simulation", "in": "formData", "type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
          {"name": "presence_simulation", "in": "formData", "type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
        ],
        "responses": {
          "200": {
            "description": "Image sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Image sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "File is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send image"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/documents": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Document",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Document file (PDF, DOC, XLS, etc.)"},
          {"name": "filename", "in": "formData", "type": "string", "description": "Custom filename to display"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Optional caption for the document"},
          {"name": "typing_simulation", "in": "formData", "type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
          {"name": "presence_simulation", "in": "formData", "type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
        ],
        "responses": {
          "200": {
            "description": "Document sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Document sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "File is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send document"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/link-preview": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Text with Link Preview",
        "description": "Send a text message with custom link preview metadata (title, description, thumbnail)",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["text", "url"],
              "properties": {
                "text": {"type": "string", "example": "Check out this link!", "description": "Message text"},
                "url": {"type": "string", "example": "https://example.com", "description": "URL for link preview"},
                "title": {"type": "string", "example": "Example Website", "description": "Link preview title"},
                "description": {"type": "string", "example": "This is an example website description", "description": "Link preview description"},
                "thumbnail": {"type": "string", "description": "Base64 encoded JPEG thumbnail image"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Link preview message sent", "schema": {"$ref": "#/definitions/MessageSentResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/archive": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Archive/Unarchive Chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"archive": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Chat archived/unarchived", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/pin": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Pin/Unpin Chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"pin": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Chat pinned/unpinned", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}/read": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Mark Message as Read",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "example": "3EB0ABC123DEF456789"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"sender_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"}, "chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"}}}}
        ],
        "responses": {
          "200": {
            "description": "Message marked as read",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Message marked as read successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Message marked as read successfully"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to mark message as read"
              }
            }
          }
        }
      }
    },
    "/messages/{message_id}/reaction": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "React to Message",
        "description": "Add emoji reaction. Send empty string to remove.",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "example": "3EB0ABC123DEF456789"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"emoji": {"type": "string", "example": "👍"}, "chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"}}}}
        ],
        "responses": {
          "200": {
            "description": "Reaction added successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Reaction added successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Reaction added successfully"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to add reaction"
              }
            }
          }
        }
      }
    },
    "/messages/{message_id}": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Edit Message",
        "description": "Edit text message (within 15 minutes)",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "example": "3EB0ABC123DEF456789"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"text": {"type": "string", "example": "Updated message text"}, "chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"}}}}
        ],
        "responses": {
          "200": {
            "description": "Message edited successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Message edited successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "message_id": {"type": "string", "example": "3EB0ABC123DEF456789"},
                    "edited_at": {"type": "integer", "example": 1702129024}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Message edited successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "edited_at": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Message can only be edited within 15 minutes"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to edit message"
              }
            }
          }
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Delete Message",
        "description": "Delete message for everyone",
        "parameters": [{"name": "message_id", "in": "path", "required": true, "type": "string", "example": "3EB0ABC123DEF456789"}],
        "responses": {
          "200": {
            "description": "Message deleted successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Message deleted successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Message deleted successfully"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to delete message"
              }
            }
          }
        }
      }
    },
    "/messages/{message_id}/reply": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Reply to Message",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "example": "3EB0ABC123DEF456789"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {
            "chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
            "text": {"type": "string", "example": "This is my reply"},
            "typing_simulation": {"type": "boolean", "description": "Override typing simulation for this reply (default: enabled)"},
            "presence_simulation": {"type": "boolean", "description": "Override presence wrapping for this reply (default: enabled)"}
          }}}
        ],
        "responses": {
          "200": {
            "description": "Reply sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Reply sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456790",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "text and chat_jid are required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send reply"
              }
            }
          }
        }
      }
    },
    "/messages/{message_id}/forward": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Forward Message",
        "description": "Forward a message to another chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "description": "ID of the message to forward", "example": "3EB0ABC123DEF456789"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["to_chat_jid"], "properties": {
            "to_chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net", "description": "Target chat JID to forward the message to"}
          }}}
        ],
        "responses": {
          "200": {
            "description": "Message forwarded successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Message forwarded successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456791",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "to_chat_jid is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to forward message"
              }
            }
          }
        }
      }
    },
    "/messages/{message_id}/star": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Star/Unstar Message",
        "description": "Star or unstar a message (keep in chat / starred messages). Starred messages are saved for quick access.",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "description": "ID of the message to star/unstar", "example": "3EB0ABC123DEF456789"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["chat_jid"],
              "properties": {
                "chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net", "description": "JID of the chat containing the message"},
                "star": {"type": "boolean", "example": true, "description": "true to star, false to unstar"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Message starred/unstarred successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/media/retry-receipt": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Send Media Retry Receipt",
        "description": "Send a media retry receipt to request re-delivery of failed media. Requires sender_jid and media_key (base64) so WhatsApp can verify the request.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["chat_jid", "sender_jid", "message_id", "media_key"],
              "properties": {
                "chat_jid": {
                  "type": "string",
                  "example": "6281234567890@s.whatsapp.net",
                  "description": "WhatsApp JID of the chat"
                },
                "sender_jid": {
                  "type": "string",
                  "example": "6281234567890@s.whatsapp.net",
                  "description": "WhatsApp JID of the message sender"
                },
                "message_id": {
                  "type": "string",
                  "example": "3EB0C127...",
                  "description": "Message ID of the media message"
                },
                "media_key": {
                  "type": "string",
                  "example": "ZHVtbXktbWVkaWEta2V5LWJhc2U2NA==",
                  "description": "Media key (base64) from the failed media message"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Media retry receipt sent",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Media retry receipt sent"}
              }
            }
          },
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/UnauthorizedResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "List All Groups With Members",
        "responses": {
          "200": {
            "description": "Groups retrieved successfully",
            "schema": {"$ref": "#/definitions/GroupsListResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Groups retrieved successfully",
                "data": [
                  {
                    "jid": "120363123456789012@g.us",
                    "name": "My Group",
                    "participant_count": 25,
                    "participants": [
                      {"jid": "6281234567890@s.whatsapp.net", "is_admin": true, "is_super_admin": true},
                      {"jid": "6289876543210@s.whatsapp.net", "is_admin": false, "is_super_admin": false}
                    ]
                  },
                  {
                    "jid": "120363123456789013@g.us",
                    "name": "Work Team",
                    "participant_count": 10,
                    "participants": [
                      {"jid": "6281234567890@s.whatsapp.net", "is_admin": true, "is_super_admin": false}
                    ]
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve groups"
              }
            }
          }
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Create Group",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "required": ["name"],
              "properties": {
                "name": {"type": "string", "example": "My Group"},
                "participants": {"type": "array", "items": {"type": "string"}, "example": ["6281234567890@s.whatsapp.net"]}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Group created successfully",
            "schema": {"$ref": "#/definitions/GroupInfoResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Group created successfully",
                "data": {
                  "jid": "120363123456789012@g.us",
                  "name": "My Group",
                  "description": "",
                  "owner": "6281234567890@s.whatsapp.net",
                  "created_at": 1702129024,
                  "participant_count": 2,
                  "participants": [
                    {"jid": "6281234567890@s.whatsapp.net", "is_admin": true, "is_super_admin": true},
                    {"jid": "6289876543210@s.whatsapp.net", "is_admin": false, "is_super_admin": false}
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Group name is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to create group"
              }
            }
          }
        }
      }
    },
    "/groups/{group_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Group Info",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string", "example": "120363123456789012@g.us"}],
        "responses": {
          "200": {
            "description": "Group info retrieved successfully",
            "schema": {"$ref": "#/definitions/GroupInfoResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Group info retrieved successfully",
                "data": {
                  "jid": "120363123456789012@g.us",
                  "name": "My Group",
                  "description": "Group description here",
                  "owner": "6281234567890@s.whatsapp.net",
                  "created_at": 1702129024,
                  "participant_count": 25,
                  "participants": [
                    {"jid": "6281234567890@s.whatsapp.net", "is_admin": true, "is_super_admin": true},
                    {"jid": "6289876543210@s.whatsapp.net", "is_admin": true, "is_super_admin": false},
                    {"jid": "6287654321098@s.whatsapp.net", "is_admin": false, "is_super_admin": false}
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "404": {
            "description": "Group not found",
            "schema": {"$ref": "#/definitions/NotFoundResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 404,
                "message": "Not found",
                "error": "Group not found or you are not a member"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve group info"
              }
            }
          }
        }
      }
    },
    "/groups/{group_jid}/leave": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Leave Group",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Left group", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/name": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Name",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"name": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Name updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/description": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Description",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"description": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Description updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Photo",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "photo", "in": "formData", "required": true, "type": "file"}
        ],
        "responses": {
          "200": {"description": "Photo updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/invite-link": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Invite Link",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "reset", "in": "query", "type": "boolean", "default": false}
        ],
        "responses": {
          "200": {"description": "Invite link retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/settings": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Settings",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"announce": {"type": "boolean"}, "locked": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Settings updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/participants": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Add Participants",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"participants": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Participants added", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Remove Participants",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"participants": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Participants removed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/admins": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Promote to Admin",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Promoted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Demote from Admin",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Demoted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/participant-requests": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Join Requests",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Requests retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/requests/approve": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Approve Join Requests",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Approved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/requests/reject": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Reject Join Requests",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Rejected", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/join-approval": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Set Join Approval Mode",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"mode": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Mode set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/invite/{invite_code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Info from Invite Link",
        "parameters": [{"name": "invite_code", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Group info from invite", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid invite", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/join-invite": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Join via Invite",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"invite_code": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Joined", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/member-add-mode": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Set Member Add Mode",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"mode": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Mode set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/topic": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Topic",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"topic": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Topic updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{parent_group_jid}/link/{group_jid}": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Link Subgroup",
        "parameters": [
          {"name": "parent_group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "group_jid", "in": "path", "required": true, "type": "string"}
        ],
        "responses": {
          "200": {"description": "Groups linked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{community_jid}/linked-participants": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Community Members",
        "parameters": [{"name": "community_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Members retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{community_jid}/subgroups": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "List Subgroups",
        "parameters": [{"name": "community_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Subgroups retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/presence": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Send Typing/Recording Indicator",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "presence_type": {"type": "string", "enum": ["composing", "paused", "recording"]},
                "media_type": {"type": "string", "enum": ["audio", "video"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Presence sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/presence/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Set Online/Offline Status",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "string", "enum": ["available", "unavailable"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Status updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/disappearing-timer": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Set Disappearing Messages Timer",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "timer": {"type": "string", "enum": ["off", "24h", "7d", "90d"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Timer set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state/{name}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Fetch App State",
        "parameters": [
          {"name": "name", "in": "path", "required": true, "type": "string"},
          {"name": "full_sync", "in": "query", "type": "boolean", "default": false},
          {"name": "only_if_not_synced", "in": "query", "type": "boolean", "default": false}
        ],
        "responses": {
          "200": {"description": "App state fetched", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Send App State Patch",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "action": {"type": "string"},
                "data": {"type": "object"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Patch sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state/mark-clean": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Mark App State as Clean",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "clean_type": {"type": "string"},
                "timestamp": {"type": "integer"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Marked as clean", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "List Webhooks",
        "description": "Get all webhooks configured for the current device",
        "responses": {
          "200": {
            "description": "Webhooks retrieved successfully",
            "schema": {"$ref": "#/definitions/WebhooksListResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Webhooks retrieved successfully",
                "data": [
                  {
                    "id": 1,
                    "url": "https://your-server.com/webhook",
                    "events": ["message.received", "connection.connected"],
                    "active": true,
                    "created_at": "2025-01-01T00:00:00Z"
                  },
                  {
                    "id": 2,
                    "url": "https://backup-server.com/webhook",
                    "events": [],
                    "active": true,
                    "created_at": "2025-02-15T00:00:00Z"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve webhooks"
              }
            }
          }
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Create Webhook",
        "description": "Register a webhook to receive WhatsApp events",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "required": ["url"],
              "properties": {
                "url": {"type": "string", "example": "https://your-server.com/webhook"},
                "secret": {"type": "string", "description": "Secret for HMAC signature verification"},
                "events": {"type": "array", "items": {"type": "string"}, "example": ["message.received", "connection.connected"]}
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Webhook created successfully",
            "schema": {"$ref": "#/definitions/WebhookResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 201,
                "message": "Webhook created successfully",
                "data": {
                  "id": 1,
                  "url": "https://your-server.com/webhook",
                  "events": ["message.received", "connection.connected"],
                  "active": true,
                  "created_at": "2025-12-17T10:30:00Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "URL must be HTTPS"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to create webhook"
              }
            }
          }
        }
      }
    },
    "/webhooks/{webhook_id}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Get Webhook Details",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Webhook details", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Update Webhook",
        "parameters": [
          {"name": "webhook_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"url": {"type": "string"}, "events": {"type": "array", "items": {"type": "string"}}, "active": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Webhook updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Delete Webhook",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Webhook deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks/{webhook_id}/logs": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Get Webhook Logs",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Logs retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks/{webhook_id}/test": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Test Webhook",
        "description": "Send a test event to the webhook",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Test event sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/videos": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Video",
        "description": "Send a video to a chat",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "description": "Chat JID (e.g., 6281234567890@s.whatsapp.net)"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Video file (MP4, 3GP, MOV)"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Video caption"},
          {"name": "view_once", "in": "formData", "type": "boolean", "description": "Send as view once"}
        ],
        "responses": {
          "200": {
            "description": "Video sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Video sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "File is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send video"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/audio": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Audio",
        "description": "Send audio or voice note to a chat",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Audio file (MP3, OGG, WAV)"},
          {"name": "voice_note", "in": "formData", "type": "boolean", "description": "Send as voice note (PTT)"},
          {"name": "ptt", "in": "formData", "type": "boolean", "description": "Alias for voice_note"}
        ],
        "responses": {
          "200": {
            "description": "Audio sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Audio sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "File is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send audio"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/stickers": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Sticker",
        "description": "Send a sticker to a chat (WebP format only)",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Sticker file (WebP format)"}
        ],
        "responses": {
          "200": {
            "description": "Sticker sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Sticker sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "File must be in WebP format"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send sticker"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/locations": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Location",
        "description": "Send a location to a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["latitude", "longitude"], "properties": {"latitude": {"type": "number", "example": -6.2088}, "longitude": {"type": "number", "example": 106.8456}, "name": {"type": "string", "example": "Jakarta"}, "address": {"type": "string", "example": "Central Jakarta, Indonesia"}}}}
        ],
        "responses": {
          "200": {
            "description": "Location sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Location sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "latitude and longitude are required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send location"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/contacts": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Contact",
        "description": "Send a contact vCard to a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["name", "phone"], "properties": {"name": {"type": "string", "example": "John Doe"}, "phone": {"type": "string", "example": "6281234567890"}}}}
        ],
        "responses": {
          "200": {
            "description": "Contact sent successfully",
            "schema": {"$ref": "#/definitions/MessageSentResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Contact sent successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "status": "sent",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "name and phone are required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to send contact"
              }
            }
          }
        }
      }
    },
    "/chats/{chat_jid}/polls": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Create Poll",
        "description": "Create a poll in a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["question", "options"], "properties": {"question": {"type": "string", "example": "What's your favorite color?"}, "options": {"type": "array", "items": {"type": "string"}, "example": ["Red", "Blue", "Green"]}, "multi_answer": {"type": "boolean", "example": false}}}}
        ],
        "responses": {
          "200": {
            "description": "Poll created successfully",
            "schema": {"$ref": "#/definitions/PollCreatedResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Poll created successfully",
                "data": {
                  "message_id": "3EB0ABC123DEF456789",
                  "question": "What's your favorite color?",
                  "options": ["Red", "Blue", "Green"]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Poll must have at least 2 options"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to create poll"
              }
            }
          }
        }
      }
    },
    "/polls/{poll_id}/vote": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Vote on Poll",
        "description": "Vote on an existing poll",
        "parameters": [
          {"name": "poll_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["chat_jid", "options"], "properties": {"chat_jid": {"type": "string"}, "options": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Vote submitted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/polls/{poll_id}/results": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Get Poll Results",
        "description": "Get results of a poll (delivered via webhook events)",
        "parameters": [{"name": "poll_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Poll results info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/polls/{poll_id}": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Delete Poll",
        "description": "Delete a poll message",
        "parameters": [
          {"name": "poll_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["chat_jid"], "properties": {"chat_jid": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Poll deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "List Subscribed Newsletters",
        "description": "Get all newsletters/channels the device is subscribed to",
        "responses": {
          "200": {
            "description": "Newsletters retrieved successfully",
            "schema": {"$ref": "#/definitions/NewslettersListResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Newsletters retrieved successfully",
                "data": [
                  {
                    "jid": "120363123456789012@newsletter",
                    "name": "Tech News Channel",
                    "description": "Latest technology news and updates",
                    "subscriber_count": 15000,
                    "picture_url": "https://pps.whatsapp.net/v/..."
                  },
                  {
                    "jid": "120363123456789013@newsletter",
                    "name": "My Company Updates",
                    "description": "Official company announcements",
                    "subscriber_count": 5000,
                    "picture_url": null
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve newsletters"
              }
            }
          }
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Create Newsletter",
        "description": "Create a new newsletter/channel",
        "parameters": [{"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["name"], "properties": {"name": {"type": "string", "example": "My Channel"}, "description": {"type": "string", "example": "Channel description"}}}}],
        "responses": {
          "200": {
            "description": "Newsletter created successfully",
            "schema": {"$ref": "#/definitions/NewsletterResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Newsletter created successfully",
                "data": {
                  "jid": "120363123456789012@newsletter",
                  "name": "My Channel",
                  "description": "Channel description",
                  "subscriber_count": 1,
                  "picture_url": null
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Channel name is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to create newsletter"
              }
            }
          }
        }
      }
    },
    "/newsletters/{jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Info",
        "description": "Get information about a specific newsletter",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string", "description": "Newsletter JID"}],
        "responses": {
          "200": {"description": "Newsletter info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Newsletter not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/follow": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Follow Newsletter",
        "description": "Subscribe to a newsletter/channel",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Newsletter followed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Unfollow Newsletter",
        "description": "Unsubscribe from a newsletter/channel",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Newsletter unfollowed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/messages": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Messages",
        "description": "Get messages from a newsletter",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "count", "in": "query", "type": "integer", "default": 50},
          {"name": "before", "in": "query", "type": "integer", "description": "Get messages before this server ID"}
        ],
        "responses": {
          "200": {"description": "Messages retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Send Newsletter Message",
        "description": "Send a message to a newsletter (admin only)",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["text"], "properties": {"text": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Message sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/reaction": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "React to Newsletter Message",
        "description": "Send a reaction to a newsletter message",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["message_server_id"], "properties": {"message_server_id": {"type": "integer"}, "emoji": {"type": "string", "example": "👍"}}}}
        ],
        "responses": {
          "200": {"description": "Reaction sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/comments": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Comment on Newsletter Message",
        "description": "Send a comment on a newsletter/channel message. Only works for newsletters that have comments enabled.",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string", "description": "Newsletter JID"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["message_server_id", "comment"],
              "properties": {
                "message_server_id": {"type": "integer", "example": 123, "description": "Server ID of the message to comment on"},
                "comment": {"type": "string", "example": "Great post!", "description": "Comment text"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Comment sent", "schema": {"$ref": "#/definitions/MessageSentResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/mute": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Toggle Newsletter Mute",
        "description": "Mute or unmute a newsletter",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "properties": {"mute": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Mute toggled", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/viewed": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Mark Newsletter Messages Viewed",
        "description": "Mark newsletter messages as viewed",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["message_server_ids"], "properties": {"message_server_ids": {"type": "array", "items": {"type": "integer"}}}}}
        ],
        "responses": {
          "200": {"description": "Messages marked as viewed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/invite/{code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Info from Invite",
        "description": "Get newsletter information using an invite code",
        "parameters": [{"name": "code", "in": "path", "required": true, "type": "string", "description": "Invite code"}],
        "responses": {
          "200": {"description": "Newsletter info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid invite code", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/live": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Subscribe to Live Updates",
        "description": "Subscribe to live updates for a newsletter",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Subscribed to live updates", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Update Newsletter Photo",
        "description": "Update the newsletter photo (admin only)",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Photo file"}
        ],
        "responses": {
          "200": {"description": "Photo updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Post Status",
        "description": "Post a new status/story (text, image, or video)",
        "consumes": ["application/json", "multipart/form-data"],
        "parameters": [
          {"name": "text", "in": "formData", "type": "string", "description": "Text for text status (JSON body)"},
          {"name": "file", "in": "formData", "type": "file", "description": "Image or video file for media status"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Caption for media status"},
          {"name": "type", "in": "formData", "type": "string", "enum": ["image", "video"], "description": "Media type"}
        ],
        "responses": {
          "200": {
            "description": "Status posted successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Status posted successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "status_id": {"type": "string", "example": "3EB0ABC123DEF456789"},
                    "type": {"type": "string", "example": "text"},
                    "timestamp": {"type": "integer", "example": 1702129024}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Status posted successfully",
                "data": {
                  "status_id": "3EB0ABC123DEF456789",
                  "type": "text",
                  "timestamp": 1702129024
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "Text or file is required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to post status"
              }
            }
          }
        }
      },
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Get Status Updates",
        "description": "Get status updates (delivered via webhook events)",
        "responses": {
          "200": {
            "description": "Status updates info retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Status updates are delivered via webhook events"},
                "data": {
                  "type": "object",
                  "properties": {
                    "info": {"type": "string", "example": "Configure a webhook to receive status.posted, status.viewed, and status.deleted events"}
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Status updates are delivered via webhook events",
                "data": {
                  "info": "Configure a webhook to receive status.posted, status.viewed, and status.deleted events"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve status updates info"
              }
            }
          }
        }
      }
    },
    "/status/{status_id}": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Delete Status",
        "description": "Delete own status",
        "parameters": [{"name": "status_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Status deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/status/{user_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Get User Status",
        "description": "Get status/about info of a specific user",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User status", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "User not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/calls/reject": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["15 - Calls"],
        "summary": "Reject Incoming Call",
        "description": "Reject an incoming WhatsApp call. Use the call information from the webhook event to reject a call.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["call_from", "call_id"],
              "properties": {
                "call_from": {"type": "string", "description": "JID of the caller", "example": "6281234567890@s.whatsapp.net"},
                "call_id": {"type": "string", "description": "Call ID from the call event", "example": "3EB0A0F1B2C3D4E5F6"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Call rejected successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Call rejected successfully"}
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Call rejected successfully"
              }
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 400,
                "message": "Bad request",
                "error": "call_from and call_id are required"
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to reject call"
              }
            }
          }
        }
      }
    },
    "/business/{jid}/profile": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["16 - Business"],
        "summary": "Get Business Profile",
        "description": "Get the business profile of a WhatsApp Business account including description, category, website, email, and address.",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string", "description": "JID of the business account", "example": "6281234567890@s.whatsapp.net"}],
        "responses": {
          "200": {
            "description": "Business profile retrieved successfully",
            "schema": {"$ref": "#/definitions/BusinessProfileResponse"},
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Business profile retrieved successfully",
                "data": {
                  "jid": "6281234567890@s.whatsapp.net",
                  "description": "Your trusted business partner for all technology needs",
                  "category": "Technology",
                  "website": ["https://example.com", "https://support.example.com"],
                  "email": "contact@example.com",
                  "address": "123 Business Street, Jakarta, Indonesia"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "404": {
            "description": "Business not found",
            "schema": {"$ref": "#/definitions/NotFoundResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 404,
                "message": "Not found",
                "error": "Business profile not found or not a business account"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve business profile"
              }
            }
          }
        }
      }
    },
    "/business/link/{code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["16 - Business"],
        "summary": "Resolve Business Message Link",
        "description": "Resolve a wa.me/message/{code} business message link to get the business JID and prefilled message.",
        "parameters": [{"name": "code", "in": "path", "required": true, "type": "string", "description": "Code from wa.me/message/{code} link"}],
        "responses": {
          "200": {"description": "Link resolved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid link code", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/bots": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["17 - Bots"],
        "summary": "Get Available Bots",
        "description": "Get the list of available WhatsApp AI bots that can be interacted with.",
        "responses": {
          "200": {
            "description": "Bot list retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Bot list retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "jid": {"type": "string", "example": "13135550100@s.whatsapp.net"},
                      "name": {"type": "string", "example": "Meta AI"}
                    }
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Bot list retrieved successfully",
                "data": [
                  {"jid": "13135550100@s.whatsapp.net", "name": "Meta AI"}
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve bot list"
              }
            }
          }
        }
      }
    },
    "/bots/profiles": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["17 - Bots"],
        "summary": "Get Bot Profiles",
        "description": "Get detailed profiles of available WhatsApp AI bots.",
        "responses": {
          "200": {
            "description": "Bot profiles retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Bot profiles retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "jid": {"type": "string", "example": "13135550100@s.whatsapp.net"},
                      "name": {"type": "string", "example": "Meta AI"},
                      "description": {"type": "string", "example": "AI assistant powered by Meta"},
                      "persona_id": {"type": "string", "example": "meta_ai_v1"}
                    }
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "status": true,
                "code": 200,
                "message": "Bot profiles retrieved successfully",
                "data": [
                  {
                    "jid": "13135550100@s.whatsapp.net",
                    "name": "Meta AI",
                    "description": "AI assistant powered by Meta",
                    "persona_id": "meta_ai_v1"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {"$ref": "#/definitions/UnauthorizedResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 401,
                "message": "Unauthorized",
                "error": "Invalid or expired JWT token"
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "schema": {"$ref": "#/definitions/ErrorResponse"},
            "examples": {
              "application/json": {
                "status": false,
                "code": 500,
                "message": "Internal server error",
                "error": "Failed to retrieve bot profiles"
              }
            }
          }
        }
      }
    },
    "/users/me/contact-qr": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["18 - Contact QR"],
        "summary": "Get Contact QR Link",
        "description": "Get your contact QR code link that others can use to add you as a contact. Optionally revoke the previous link.",
        "parameters": [{"name": "revoke", "in": "query", "type": "boolean", "default": false, "description": "Whether to revoke the previous link and generate a new one"}],
        "responses": {
          "200": {"description": "Contact QR link retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/contact-qr/{code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["18 - Contact QR"],
        "summary": "Resolve Contact QR Link",
        "description": "Resolve a contact QR link code to get the contact's JID and push name.",
        "parameters": [{"name": "code", "in": "path", "required": true, "type": "string", "description": "Contact QR link code"}],
        "responses": {
          "200": {"description": "Contact QR resolved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid QR code", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/presence/subscribe": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Subscribe to Presence Updates",
        "description": "Subscribe to presence updates (online/offline/typing) for a specific user. Updates will be delivered via webhook.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["jid"],
              "properties": {
                "jid": {"type": "string", "description": "JID of the user to subscribe to", "example": "6281234567890@s.whatsapp.net"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Subscribed to presence updates", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices/me/passive": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Set Passive Mode",
        "description": "Set the client to passive mode. In passive mode, the client will not receive messages but can still send them. Useful for reducing bandwidth.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "passive": {"type": "boolean", "description": "Whether to enable passive mode", "default": true}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Passive mode set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/updates": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Message Updates",
        "description": "Get updates for messages in a newsletter including edits, reaction counts, and other changes.",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string", "description": "Newsletter JID"},
          {"name": "count", "in": "query", "type": "integer", "default": 100, "description": "Maximum number of updates to retrieve"},
          {"name": "since", "in": "query", "type": "integer", "default": 0, "description": "Get updates since this timestamp"}
        ],
        "responses": {
          "200": {"description": "Message updates retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/tos/accept": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Accept TOS Notice",
        "description": "Accept the Terms of Service notice required for newsletter features.",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["notice_id", "stage"],
              "properties": {
                "notice_id": {"type": "string", "description": "TOS notice ID"},
                "stage": {"type": "string", "description": "TOS stage identifier"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "TOS accepted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{parent_jid}/link/{child_jid}": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Unlink Subgroup from Community",
        "description": "Unlink a subgroup from a community/parent group.",
        "parameters": [
          {"name": "parent_jid", "in": "path", "required": true, "type": "string", "description": "JID of the parent community"},
          {"name": "child_jid", "in": "path", "required": true, "type": "string", "description": "JID of the subgroup to unlink"}
        ],
        "responses": {
          "200": {"description": "Subgroup unlinked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not authorized to unlink", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    }
  }
}
