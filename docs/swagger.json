{
  "swagger": "2.0",
  "info": {
    "title": "WhatsApp Multi-Device REST API",
    "description": "Enterprise-grade RESTful API for WhatsApp Multi-Device and Multi-Session implementation.\n\n## Authentication\n\nThis API uses a **3-tier authentication system**:\n\n### 1. Admin Authentication (X-Admin-Secret)\nFor managing API keys and system administration.\n```\nX-Admin-Secret: your-admin-secret\n```\n\n### 2. API Key Authentication (X-API-Key)\nFor creating devices. Each API key can create up to `max_devices` devices.\n```\nX-API-Key: ak_xxxxxxxxxxxxxxxx\n```\n\n### 3. JWT Bearer Token (Authorization)\nFor all device operations. Obtained when creating a device.\n```\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIs...\n```\n\n## Quick Start\n\n1. **Admin creates API Key** → `POST /admin/api-keys`\n2. **Customer creates Device** → `POST /devices` (returns JWT)\n3. **Customer uses JWT** → All `/devices/me/*` endpoints\n\n## Features\n\n- 60+ endpoints for complete WhatsApp automation\n- JWT tokens with no expiry (regenerate anytime)\n- Multi-tenant support via API keys\n- Webhook integration for real-time events",
    "version": "2.0.0",
    "contact": {
      "name": "API Support",
      "url": "https://github.com/gdbrns/go-whatsapp-multi-session-rest-api"
    }
  },
  "host": "localhost:7001",
  "basePath": "/",
  "schemes": ["http", "https"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "securityDefinitions": {
    "AdminAuth": {
      "type": "apiKey",
      "name": "X-Admin-Secret",
      "in": "header",
      "description": "Admin secret key for managing API keys. Set in .env as ADMIN_SECRET"
    },
    "APIKeyAuth": {
      "type": "apiKey",
      "name": "X-API-Key",
      "in": "header",
      "description": "API key for creating devices. Format: ak_xxxxxxxxxxxxxxxx"
    },
    "BearerAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "JWT Bearer token for device operations. Format: Bearer <jwt_token>"
    }
  },
  "tags": [
    {"name": "00 - Health", "description": "Server status and health check"},
    {"name": "01 - Documentation", "description": "API documentation and Swagger UI"},
    {"name": "02 - Admin", "description": "Admin dashboard, API key management, and system monitoring (Admin only)"},
    {"name": "03 - Device Registration", "description": "Create devices and manage JWT tokens"},
    {"name": "04 - Device Operations", "description": "Login, logout, status, and reconnection"},
    {"name": "05 - User Management", "description": "User profiles, privacy settings, and contacts"},
    {"name": "06 - Messaging", "description": "Send text, images, videos, audio, stickers, locations, contacts, and documents"},
    {"name": "07 - Message Actions", "description": "Read, react, edit, delete, reply to messages"},
    {"name": "08 - Group Management", "description": "Create, manage, and administer WhatsApp groups"},
    {"name": "09 - Presence & Status", "description": "Typing indicators, online status, disappearing messages"},
    {"name": "10 - App State", "description": "App state synchronization"},
    {"name": "11 - Webhooks", "description": "Webhook configuration and management"},
    {"name": "12 - Polls", "description": "Create polls, vote, and get results"},
    {"name": "13 - Newsletter/Channels", "description": "WhatsApp Channels - create, follow, manage newsletters"},
    {"name": "14 - Status/Stories", "description": "Post and manage WhatsApp Status/Stories"}
  ],
  "definitions": {
    "ErrorResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": false},
        "code": {"type": "integer", "example": 400},
        "message": {"type": "string", "example": "Bad request"},
        "error": {"type": "string", "example": "Bad request"}
      }
    },
    "SuccessResponse": {
      "type": "object",
      "properties": {
        "status": {"type": "boolean", "example": true},
        "code": {"type": "integer", "example": 200},
        "message": {"type": "string", "example": "Success"},
        "data": {"type": "object"}
      }
    },
    "AdminStats": {
      "type": "object",
      "properties": {
        "total_api_keys": {"type": "integer", "example": 5},
        "active_api_keys": {"type": "integer", "example": 4},
        "total_devices": {"type": "integer", "example": 25},
        "connected_devices": {"type": "integer", "example": 18},
        "disconnected_devices": {"type": "integer", "example": 5},
        "pending_devices": {"type": "integer", "example": 2},
        "logged_out_devices": {"type": "integer", "example": 0},
        "total_webhooks": {"type": "integer", "example": 12},
        "active_webhooks": {"type": "integer", "example": 10}
      }
    },
    "SystemHealth": {
      "type": "object",
      "properties": {
        "status": {"type": "string", "example": "ok"},
        "database": {"type": "string", "example": "ok"},
        "whatsapp_clients": {"type": "integer", "example": 18},
        "total_devices": {"type": "integer", "example": 25},
        "memory_alloc": {"type": "string", "example": "128.5 MB"},
        "memory_sys": {"type": "string", "example": "256.0 MB"},
        "goroutines": {"type": "integer", "example": 42},
        "uptime": {"type": "string", "example": "5d 12h 30m 15s"},
        "uptime_seconds": {"type": "integer", "example": 475815},
        "version": {"type": "string", "example": "2.0.0"},
        "go_version": {"type": "string", "example": "go1.21.0"}
      }
    },
    "APIKey": {
      "type": "object",
      "properties": {
        "id": {"type": "integer", "example": 1},
        "api_key": {"type": "string", "example": "ak_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"},
        "customer_name": {"type": "string", "example": "Acme Corp"},
        "customer_email": {"type": "string", "example": "admin@acme.com"},
        "max_devices": {"type": "integer", "example": 10},
        "rate_limit_per_hour": {"type": "integer", "example": 1000},
        "is_active": {"type": "boolean", "example": true}
      }
    },
    "Device": {
      "type": "object",
      "properties": {
        "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
        "device_name": {"type": "string", "example": "Production Phone"},
        "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
        "status": {"type": "string", "example": "connected"},
        "token": {"type": "string", "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}
      }
    },
    "JWTClaims": {
      "type": "object",
      "properties": {
        "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
        "api_key_id": {"type": "integer", "example": 1},
        "jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
        "version": {"type": "integer", "example": 1, "description": "JWT version for invalidation"}
      }
    }
  },
  "paths": {
    "/": {
      "get": {
        "tags": ["00 - Health"],
        "summary": "Server Status",
        "description": "Get server status and health check. No authentication required.",
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/docs/swagger.json": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "OpenAPI Specification (JSON)",
        "description": "Get OpenAPI/Swagger documentation in JSON format",
        "produces": ["application/json"],
        "responses": {"200": {"description": "Swagger JSON documentation"}}
      }
    },
    "/docs/swagger.yaml": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "OpenAPI Specification (YAML)",
        "description": "Get OpenAPI/Swagger documentation in YAML format",
        "produces": ["application/yaml"],
        "responses": {"200": {"description": "Swagger YAML documentation"}}
      }
    },
    "/docs/*": {
      "get": {
        "tags": ["01 - Documentation"],
        "summary": "Swagger UI",
        "description": "Interactive API documentation interface",
        "responses": {"200": {"description": "Swagger UI HTML"}}
      }
    },
    "/admin/stats": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Admin Statistics",
        "description": "Get system-wide statistics for admin dashboard including API keys, devices, and webhook counts",
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/health": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get System Health",
        "description": "Get comprehensive system health information including database status, memory usage, uptime, and connected WhatsApp clients",
        "responses": {
          "200": {
            "description": "Health information retrieved successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "System health retrieved successfully"},
                "data": {"$ref": "#/definitions/SystemHealth"}
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/devices": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List All Devices",
        "description": "Get all devices across all API keys with customer information. Useful for admin dashboard overview.",
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/devices/status": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get All Device Statuses",
        "description": "Get live connection status for all devices across all API keys. Checks actual WhatsApp connection state in real-time.",
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/devices/reconnect": {
      "post": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Reconnect All Devices",
        "description": "Attempt to reconnect all disconnected devices. Useful for batch recovery after server restart or network issues.",
        "responses": {
          "200": {
            "description": "Reconnect operation completed",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Reconnect operation completed"},
                "data": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                          "device_name": {"type": "string", "example": "Production Phone"},
                          "status": {"type": "string", "enum": ["reconnected", "failed", "skipped", "already_connected"]},
                          "error": {"type": "string", "example": ""}
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {"type": "integer", "example": 25},
                        "reconnected": {"type": "integer", "example": 5},
                        "failed": {"type": "integer", "example": 2},
                        "skipped": {"type": "integer", "example": 18}
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/webhooks/stats": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Webhook Statistics",
        "description": "Get webhook delivery statistics including success/failure rates",
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/api-keys": {
      "post": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Create API Key",
        "description": "Create a new API key for a customer. The API key is only shown once in the response - save it securely!",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["customer_name"],
              "properties": {
                "customer_name": {"type": "string", "example": "Acme Corp", "description": "Customer/company name"},
                "customer_email": {"type": "string", "example": "admin@acme.com", "description": "Contact email (optional)"},
                "max_devices": {"type": "integer", "example": 10, "default": 5, "description": "Maximum devices this key can create"},
                "rate_limit_per_hour": {"type": "integer", "example": 5000, "default": 1000, "description": "API rate limit per hour"}
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "API key created successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 201},
                "message": {"type": "string", "example": "API key created successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "id": {"type": "integer", "example": 1},
                    "api_key": {"type": "string", "example": "ak_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6", "description": "Save this! Only shown once"},
                    "customer_name": {"type": "string", "example": "Acme Corp"},
                    "max_devices": {"type": "integer", "example": 10},
                    "rate_limit_per_hour": {"type": "integer", "example": 1000}
                  }
                }
              }
            }
          },
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List All API Keys",
        "description": "Get list of all API keys (keys are masked for security)",
        "responses": {
          "200": {
            "description": "API keys retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {"type": "integer", "example": 1},
                      "api_key_masked": {"type": "string", "example": "ak_a1b2...o5p6"},
                      "customer_name": {"type": "string", "example": "Acme Corp"},
                      "customer_email": {"type": "string", "example": "admin@acme.com"},
                      "device_count": {"type": "integer", "example": 3},
                      "max_devices": {"type": "integer", "example": 10},
                      "rate_limit_per_hour": {"type": "integer", "example": 1000},
                      "is_active": {"type": "boolean", "example": true}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/api-keys/{id}": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get API Key Details",
        "description": "Get detailed information about a specific API key including its devices",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {"description": "API key details retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "patch": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Update API Key",
        "description": "Update API key settings (name, limits, active status)",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "customer_name": {"type": "string"},
                "customer_email": {"type": "string"},
                "max_devices": {"type": "integer"},
                "rate_limit_per_hour": {"type": "integer"},
                "is_active": {"type": "boolean", "description": "Set to false to disable all requests with this key"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "API key updated successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Delete API Key",
        "description": "Delete an API key and ALL its associated devices. This action is irreversible!",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "API key deleted successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "API key not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/admin/api-keys/{id}/devices": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "List Devices by API Key",
        "description": "Get all devices created with a specific API key",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {
            "description": "Devices retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Devices retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                      "device_name": {"type": "string", "example": "Production Phone"},
                      "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                      "status": {"type": "string", "example": "active"},
                      "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"},
                      "last_active_at": {"type": "string", "example": "2025-12-03T10:30:00Z"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/api-keys/{id}/devices/status": {
      "get": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Get Device Statuses by API Key",
        "description": "Live connection status for all devices under a specific API key",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer", "description": "API Key ID"}
        ],
        "responses": {
          "200": {
            "description": "Device statuses retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Device statuses retrieved successfully"},
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                      "device_name": {"type": "string", "example": "Production Phone"},
                      "whatsmeow_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net"},
                      "db_status": {"type": "string", "example": "active"},
                      "client_loaded": {"type": "boolean", "example": true},
                      "connected": {"type": "boolean", "example": true, "description": "Legacy flag: true only when fully connected"},
                      "is_connected": {"type": "boolean", "example": true},
                      "is_logged_in": {"type": "boolean", "example": true},
                      "error": {"type": "string", "example": ""}
                    }
                  }
                }
              }
            }
          },
          "404": {"description": "API key not found"}
        }
      }
    },
    "/admin/devices/{device_id}": {
      "delete": {
        "security": [{"AdminAuth": []}],
        "tags": ["02 - Admin"],
        "summary": "Delete Device (Admin)",
        "description": "Admin can delete any device by ID",
        "parameters": [
          {"name": "device_id", "in": "path", "required": true, "type": "string", "description": "Device UUID"}
        ],
        "responses": {
          "200": {"description": "Device deleted successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized - Invalid admin secret", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Device not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices": {
      "post": {
        "security": [{"APIKeyAuth": []}],
        "tags": ["03 - Device Registration"],
        "summary": "Create Device",
        "description": "Create a new device and receive a JWT token. This token is used for all subsequent device operations.\n\n**Important:** Save the JWT token securely - it provides access to all device operations.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "device_name": {"type": "string", "example": "Production Phone", "description": "Optional friendly name for the device"}
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Device created successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 201},
                "message": {"type": "string", "example": "Device created successfully"},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                    "device_secret": {"type": "string", "example": "a1b2c3d4e5f6g7h8", "description": "Store securely; required to regenerate tokens"},
                    "device_name": {"type": "string", "example": "Production Phone"},
                    "token": {"type": "string", "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...", "description": "JWT for all device operations"},
                    "message": {"type": "string", "example": "Device created successfully. Save the device_secret securely."}
                  }
                }
              }
            }
          },
          "400": {"description": "Device limit reached for this API key"},
          "401": {"description": "Invalid API key"}
        }
      }
    },
    "/devices/token": {
      "post": {
        "tags": ["03 - Device Registration"],
        "summary": "Regenerate JWT Token",
        "description": "Regenerate JWT token for a device. This invalidates all previous tokens for this device.\n\n**Use case:** If a token is compromised, regenerate to revoke access.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["device_id", "device_secret"],
              "properties": {
                "device_id": {"type": "string", "example": "550e8400-e29b-41d4-a716-446655440000"},
                "device_secret": {"type": "string", "example": "a1b2c3d4e5f6g7h8", "description": "Device secret returned at creation time"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token regenerated successfully",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "code": {"type": "integer", "example": 200},
                "message": {"type": "string", "example": "Token regenerated successfully. All previous tokens are now invalid."},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string"},
                    "token": {"type": "string", "description": "New JWT token (old tokens are now invalid)"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Get Current Device Info",
        "description": "Get information about the current device (from JWT token)",
        "responses": {
          "200": {
            "description": "Device info retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "boolean", "example": true},
                "data": {
                  "type": "object",
                  "properties": {
                    "device_id": {"type": "string"},
                    "device_name": {"type": "string"},
                    "whatsmeow_jid": {"type": "string"},
                    "status": {"type": "string"},
                    "created_at": {"type": "string", "example": "2025-01-01T00:00:00Z"},
                    "last_active": {"type": "string", "example": "2025-12-03T10:30:00Z"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me/status": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Get Device Connection Status",
        "description": "Detailed device status including DB status, client load state, connection, and login flags.",
        "responses": {
          "200": {
            "description": "Status retrieved",
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "db_status": {"type": "string", "example": "active", "description": "Database status: pending | active | disconnected | logged_out"},
                    "client_loaded": {"type": "boolean", "example": true, "description": "Whether client is loaded in memory"},
                    "connected": {"type": "boolean", "example": true, "description": "Legacy flag: true only when fully connected and logged in"},
                    "is_connected": {"type": "boolean", "example": true, "description": "Connected to WhatsApp servers"},
                    "is_logged_in": {"type": "boolean", "example": true, "description": "Has authenticated session"},
                    "error": {"type": "string", "example": "", "description": "Error message when not connected/logged in"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me/login": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Login with QR Code",
        "description": "Generate QR code for WhatsApp login. Scan with WhatsApp app.",
        "consumes": ["application/x-www-form-urlencoded"],
        "parameters": [
          {"name": "output", "in": "formData", "type": "string", "enum": ["html", "json"], "default": "json", "description": "Response format"}
        ],
        "responses": {
          "200": {
            "description": "QR code generated",
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "qr_code": {"type": "string", "example": "data:image/png;base64,..."},
                    "timeout": {"type": "integer", "example": 60}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me/login-code": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Login with Pairing Code",
        "description": "Generate pairing code for WhatsApp login (no QR scan needed). Enter the code in WhatsApp > Linked Devices > Link with phone number.",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["phone"],
              "properties": {
                "phone": {"type": "string", "example": "6281234567890", "description": "Phone number without + or spaces"}
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pairing code generated",
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "pair_code": {"type": "string", "example": "ABCD-1234"},
                    "timeout": {"type": "integer", "example": 120}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/devices/me/reconnect": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Reconnect Device",
        "description": "Manually reconnect a disconnected device to WhatsApp",
        "responses": {
          "200": {"description": "Device reconnected", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices/me/session": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Logout Device",
        "description": "Logout from WhatsApp and remove the session. You'll need to scan QR again.",
        "responses": {
          "200": {"description": "Device logged out", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/devices/me/contacts/{phone}/registered": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["04 - Device Operations"],
        "summary": "Check WhatsApp Registration",
        "description": "Check if a phone number is registered on WhatsApp",
        "parameters": [
          {"name": "phone", "in": "path", "required": true, "type": "string", "example": "6281234567890"}
        ],
        "responses": {
          "200": {
            "description": "Registration status",
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "is_registered": {"type": "boolean", "example": true, "description": "true if the phone is a valid WhatsApp account"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/{user_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get User Info",
        "description": "Get user profile information by JID",
        "parameters": [
          {"name": "user_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"}
        ],
        "responses": {
          "200": {"description": "User info retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "User not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{user_jid}/profile-picture": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Profile Picture",
        "description": "Get user's profile picture URL",
        "parameters": [
          {"name": "user_jid", "in": "path", "required": true, "type": "string"}
        ],
        "responses": {
          "200": {"description": "Profile picture URL retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Profile picture not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{user_jid}/block": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Block User",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User blocked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Unblock User",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User unblocked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/privacy": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Privacy Settings",
        "responses": {
          "200": {"description": "Privacy settings retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Update Privacy Settings",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "setting": {"type": "string", "enum": ["last_seen", "profile_picture", "status", "read_receipts", "groups"]},
                "value": {"type": "string", "enum": ["all", "contacts", "contact_blacklist", "none"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Privacy updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/status-privacy": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Status Privacy",
        "responses": {
          "200": {"description": "Status privacy retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Update About Status",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "string", "example": "Available"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Status updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/{jid}/devices": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get User's Linked Devices",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Linked devices retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/profile-photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Set Profile Photo",
        "description": "Set your WhatsApp profile photo. Upload as multipart form or base64 JSON.",
        "consumes": ["multipart/form-data", "application/json"],
        "parameters": [
          {"name": "file", "in": "formData", "type": "file", "description": "Profile photo image file (JPEG/PNG)"}
        ],
        "responses": {
          "200": {"description": "Profile photo set successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/contacts": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Contacts",
        "description": "Retrieve all saved contacts from WhatsApp",
        "responses": {
          "200": {"description": "Contacts retrieved successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/contacts/sync": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Sync Contacts",
        "description": "Check which phone numbers are registered on WhatsApp",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["phones"],
              "properties": {
                "phones": {"type": "array", "items": {"type": "string"}, "example": ["6281234567890", "6289876543210"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Contacts sync results", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/users/me/blocklist": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["05 - User Management"],
        "summary": "Get Blocklist",
        "description": "Retrieve list of blocked contacts",
        "responses": {
          "200": {"description": "Blocklist retrieved successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/messages": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Text Message",
        "description": "Send a text message to a chat or group",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "example": "6281234567890@s.whatsapp.net"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "required": ["text"],
              "properties": {
                "text": {"type": "string", "example": "Hello, World!"},
                "reply_to_message_id": {"type": "string", "description": "Message ID to reply to"},
                "typing_simulation": {"type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
                "presence_simulation": {"type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Get Chat Messages",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "limit", "in": "query", "type": "integer", "default": 50},
          {"name": "before", "in": "query", "type": "string"},
          {"name": "after", "in": "query", "type": "string"}
        ],
        "responses": {
          "200": {"description": "Messages retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/images": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Image",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file"},
          {"name": "caption", "in": "formData", "type": "string"},
          {"name": "view_once", "in": "formData", "type": "boolean", "default": false},
          {"name": "typing_simulation", "in": "formData", "type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
          {"name": "presence_simulation", "in": "formData", "type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
        ],
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/documents": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Document",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file"},
          {"name": "filename", "in": "formData", "type": "string"},
          {"name": "typing_simulation", "in": "formData", "type": "boolean", "description": "Override typing simulation for this message (default: enabled)"},
          {"name": "presence_simulation", "in": "formData", "type": "boolean", "description": "Override presence wrapping for this message (default: enabled)"}
        ],
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/archive": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Archive/Unarchive Chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"archive": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Chat archived/unarchived", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/pin": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Pin/Unpin Chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"pin": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Chat pinned/unpinned", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}/read": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Mark Message as Read",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"sender_jid": {"type": "string"}, "chat_jid": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Message marked as read", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}/reaction": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "React to Message",
        "description": "Add emoji reaction. Send empty string to remove.",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"emoji": {"type": "string", "example": "👍"}}}}
        ],
        "responses": {
          "200": {"description": "Reaction added", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Edit Message",
        "description": "Edit text message (within 15 minutes)",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"text": {"type": "string"}, "chat_jid": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Message edited", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Delete Message",
        "description": "Delete message for everyone",
        "parameters": [{"name": "message_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Message deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}/reply": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Reply to Message",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {
            "chat_jid": {"type": "string"},
            "text": {"type": "string"},
            "typing_simulation": {"type": "boolean", "description": "Override typing simulation for this reply (default: enabled)"},
            "presence_simulation": {"type": "boolean", "description": "Override presence wrapping for this reply (default: enabled)"}
          }}}
        ],
        "responses": {
          "200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/messages/{message_id}/forward": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["07 - Message Actions"],
        "summary": "Forward Message",
        "description": "Forward a message to another chat",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "message_id", "in": "path", "required": true, "type": "string", "description": "ID of the message to forward"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["to_chat_jid"], "properties": {
            "to_chat_jid": {"type": "string", "example": "6281234567890@s.whatsapp.net", "description": "Target chat JID to forward the message to"}
          }}}
        ],
        "responses": {
          "200": {"description": "Message forwarded successfully", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "List All Groups With Members",
        "responses": {
          "200": {"description": "Groups with members retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Create Group",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "required": ["name"],
              "properties": {
                "name": {"type": "string", "example": "My Group"},
                "participants": {"type": "array", "items": {"type": "string"}, "example": ["6281234567890@s.whatsapp.net"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Group created", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Group Info",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Group info retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Group not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/leave": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Leave Group",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Left group", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/name": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Name",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"name": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Name updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/description": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Description",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"description": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Description updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Photo",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "photo", "in": "formData", "required": true, "type": "file"}
        ],
        "responses": {
          "200": {"description": "Photo updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/invite-link": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Invite Link",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "reset", "in": "query", "type": "boolean", "default": false}
        ],
        "responses": {
          "200": {"description": "Invite link retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/settings": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Settings",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"announce": {"type": "boolean"}, "locked": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Settings updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/participants": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Add Participants",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"participants": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Participants added", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Remove Participants",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"participants": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Participants removed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/admins": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Promote to Admin",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Promoted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Demote from Admin",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Demoted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/participant-requests": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Join Requests",
        "parameters": [{"name": "group_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Requests retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/requests/approve": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Approve Join Requests",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Approved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/requests/reject": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Reject Join Requests",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"users": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Rejected", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/join-approval": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Set Join Approval Mode",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"mode": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Mode set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/invite/{invite_code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Info from Invite Link",
        "parameters": [{"name": "invite_code", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Group info from invite", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid invite", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/join-invite": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Join via Invite",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"invite_code": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Joined", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/member-add-mode": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Set Member Add Mode",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"mode": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Mode set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{group_jid}/topic": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Update Group Topic",
        "parameters": [
          {"name": "group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"topic": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Topic updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{parent_group_jid}/link/{group_jid}": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Link Subgroup",
        "parameters": [
          {"name": "parent_group_jid", "in": "path", "required": true, "type": "string"},
          {"name": "group_jid", "in": "path", "required": true, "type": "string"}
        ],
        "responses": {
          "200": {"description": "Groups linked", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "403": {"description": "Not admin", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{community_jid}/linked-participants": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "Get Community Members",
        "parameters": [{"name": "community_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Members retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/groups/{community_jid}/subgroups": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["08 - Group Management"],
        "summary": "List Subgroups",
        "parameters": [{"name": "community_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Subgroups retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/presence": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Send Typing/Recording Indicator",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "presence_type": {"type": "string", "enum": ["composing", "paused", "recording"]},
                "media_type": {"type": "string", "enum": ["audio", "video"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Presence sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/presence/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Set Online/Offline Status",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "status": {"type": "string", "enum": ["available", "unavailable"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Status updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/disappearing-timer": {
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["09 - Presence & Status"],
        "summary": "Set Disappearing Messages Timer",
        "consumes": ["application/json"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "timer": {"type": "string", "enum": ["off", "24h", "7d", "90d"]}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Timer set", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state/{name}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Fetch App State",
        "parameters": [
          {"name": "name", "in": "path", "required": true, "type": "string"},
          {"name": "full_sync", "in": "query", "type": "boolean", "default": false},
          {"name": "only_if_not_synced", "in": "query", "type": "boolean", "default": false}
        ],
        "responses": {
          "200": {"description": "App state fetched", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Send App State Patch",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "action": {"type": "string"},
                "data": {"type": "object"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Patch sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/app-state/mark-clean": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["10 - App State"],
        "summary": "Mark App State as Clean",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "clean_type": {"type": "string"},
                "timestamp": {"type": "integer"}
              }
            }
          }
        ],
        "responses": {
          "200": {"description": "Marked as clean", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "List Webhooks",
        "description": "Get all webhooks configured for the current device",
        "responses": {
          "200": {"description": "Webhooks retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Create Webhook",
        "description": "Register a webhook to receive WhatsApp events",
        "consumes": ["application/json"],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "required": ["url"],
              "properties": {
                "url": {"type": "string", "example": "https://your-server.com/webhook"},
                "secret": {"type": "string", "description": "Secret for HMAC signature verification"},
                "events": {"type": "array", "items": {"type": "string"}, "example": ["message.received", "connection.connected"]}
              }
            }
          }
        ],
        "responses": {
          "201": {"description": "Webhook created", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks/{webhook_id}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Get Webhook Details",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Webhook details", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "patch": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Update Webhook",
        "parameters": [
          {"name": "webhook_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "schema": {"type": "object", "properties": {"url": {"type": "string"}, "events": {"type": "array", "items": {"type": "string"}}, "active": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Webhook updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Delete Webhook",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Webhook deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks/{webhook_id}/logs": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Get Webhook Logs",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Logs retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/webhooks/{webhook_id}/test": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["11 - Webhooks"],
        "summary": "Test Webhook",
        "description": "Send a test event to the webhook",
        "parameters": [{"name": "webhook_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Test event sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Webhook not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/videos": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Video",
        "description": "Send a video to a chat",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string", "description": "Chat JID (e.g., 6281234567890@s.whatsapp.net)"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Video file (MP4, 3GP, MOV)"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Video caption"},
          {"name": "view_once", "in": "formData", "type": "boolean", "description": "Send as view once"}
        ],
        "responses": {
          "200": {"description": "Video sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/audio": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Audio",
        "description": "Send audio or voice note to a chat",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Audio file (MP3, OGG, WAV)"},
          {"name": "voice_note", "in": "formData", "type": "boolean", "description": "Send as voice note (PTT)"},
          {"name": "ptt", "in": "formData", "type": "boolean", "description": "Alias for voice_note"}
        ],
        "responses": {
          "200": {"description": "Audio sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/stickers": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Sticker",
        "description": "Send a sticker to a chat (WebP format only)",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Sticker file (WebP format)"}
        ],
        "responses": {
          "200": {"description": "Sticker sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/locations": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Location",
        "description": "Send a location to a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["latitude", "longitude"], "properties": {"latitude": {"type": "number", "example": -6.2088}, "longitude": {"type": "number", "example": 106.8456}, "name": {"type": "string", "example": "Jakarta"}, "address": {"type": "string", "example": "Central Jakarta, Indonesia"}}}}
        ],
        "responses": {
          "200": {"description": "Location sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/contacts": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["06 - Messaging"],
        "summary": "Send Contact",
        "description": "Send a contact vCard to a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["name", "phone"], "properties": {"name": {"type": "string", "example": "John Doe"}, "phone": {"type": "string", "example": "6281234567890"}}}}
        ],
        "responses": {
          "200": {"description": "Contact sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/chats/{chat_jid}/polls": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Create Poll",
        "description": "Create a poll in a chat",
        "parameters": [
          {"name": "chat_jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["question", "options"], "properties": {"question": {"type": "string", "example": "What's your favorite color?"}, "options": {"type": "array", "items": {"type": "string"}, "example": ["Red", "Blue", "Green"]}, "multi_answer": {"type": "boolean", "example": false}}}}
        ],
        "responses": {
          "200": {"description": "Poll created", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/polls/{poll_id}/vote": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Vote on Poll",
        "description": "Vote on an existing poll",
        "parameters": [
          {"name": "poll_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["chat_jid", "options"], "properties": {"chat_jid": {"type": "string"}, "options": {"type": "array", "items": {"type": "string"}}}}}
        ],
        "responses": {
          "200": {"description": "Vote submitted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/polls/{poll_id}/results": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Get Poll Results",
        "description": "Get results of a poll (delivered via webhook events)",
        "parameters": [{"name": "poll_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Poll results info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/polls/{poll_id}": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["12 - Polls"],
        "summary": "Delete Poll",
        "description": "Delete a poll message",
        "parameters": [
          {"name": "poll_id", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["chat_jid"], "properties": {"chat_jid": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Poll deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "List Subscribed Newsletters",
        "description": "Get all newsletters/channels the device is subscribed to",
        "responses": {
          "200": {"description": "Newsletters listed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Create Newsletter",
        "description": "Create a new newsletter/channel",
        "parameters": [{"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["name"], "properties": {"name": {"type": "string", "example": "My Channel"}, "description": {"type": "string", "example": "Channel description"}}}}],
        "responses": {
          "200": {"description": "Newsletter created", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Info",
        "description": "Get information about a specific newsletter",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string", "description": "Newsletter JID"}],
        "responses": {
          "200": {"description": "Newsletter info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Newsletter not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/follow": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Follow Newsletter",
        "description": "Subscribe to a newsletter/channel",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Newsletter followed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Unfollow Newsletter",
        "description": "Unsubscribe from a newsletter/channel",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Newsletter unfollowed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/messages": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Messages",
        "description": "Get messages from a newsletter",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "count", "in": "query", "type": "integer", "default": 50},
          {"name": "before", "in": "query", "type": "integer", "description": "Get messages before this server ID"}
        ],
        "responses": {
          "200": {"description": "Messages retrieved", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Send Newsletter Message",
        "description": "Send a message to a newsletter (admin only)",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["text"], "properties": {"text": {"type": "string"}}}}
        ],
        "responses": {
          "200": {"description": "Message sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/reaction": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "React to Newsletter Message",
        "description": "Send a reaction to a newsletter message",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["message_server_id"], "properties": {"message_server_id": {"type": "integer"}, "emoji": {"type": "string", "example": "👍"}}}}
        ],
        "responses": {
          "200": {"description": "Reaction sent", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/mute": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Toggle Newsletter Mute",
        "description": "Mute or unmute a newsletter",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "properties": {"mute": {"type": "boolean"}}}}
        ],
        "responses": {
          "200": {"description": "Mute toggled", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/viewed": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Mark Newsletter Messages Viewed",
        "description": "Mark newsletter messages as viewed",
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "body", "in": "body", "required": true, "schema": {"type": "object", "required": ["message_server_ids"], "properties": {"message_server_ids": {"type": "array", "items": {"type": "integer"}}}}}
        ],
        "responses": {
          "200": {"description": "Messages marked as viewed", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/invite/{code}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Get Newsletter Info from Invite",
        "description": "Get newsletter information using an invite code",
        "parameters": [{"name": "code", "in": "path", "required": true, "type": "string", "description": "Invite code"}],
        "responses": {
          "200": {"description": "Newsletter info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "Invalid invite code", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/live": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Subscribe to Live Updates",
        "description": "Subscribe to live updates for a newsletter",
        "parameters": [{"name": "jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Subscribed to live updates", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/newsletters/{jid}/photo": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["13 - Newsletter/Channels"],
        "summary": "Update Newsletter Photo",
        "description": "Update the newsletter photo (admin only)",
        "consumes": ["multipart/form-data"],
        "parameters": [
          {"name": "jid", "in": "path", "required": true, "type": "string"},
          {"name": "file", "in": "formData", "required": true, "type": "file", "description": "Photo file"}
        ],
        "responses": {
          "200": {"description": "Photo updated", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/status": {
      "post": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Post Status",
        "description": "Post a new status/story (text, image, or video)",
        "consumes": ["application/json", "multipart/form-data"],
        "parameters": [
          {"name": "text", "in": "formData", "type": "string", "description": "Text for text status (JSON body)"},
          {"name": "file", "in": "formData", "type": "file", "description": "Image or video file for media status"},
          {"name": "caption", "in": "formData", "type": "string", "description": "Caption for media status"},
          {"name": "type", "in": "formData", "type": "string", "enum": ["image", "video"], "description": "Media type"}
        ],
        "responses": {
          "200": {"description": "Status posted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "400": {"description": "Bad request", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      },
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Get Status Updates",
        "description": "Get status updates (delivered via webhook events)",
        "responses": {
          "200": {"description": "Status updates info", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/status/{status_id}": {
      "delete": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Delete Status",
        "description": "Delete own status",
        "parameters": [{"name": "status_id", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Status deleted", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    },
    "/status/{user_jid}": {
      "get": {
        "security": [{"BearerAuth": []}],
        "tags": ["14 - Status/Stories"],
        "summary": "Get User Status",
        "description": "Get status/about info of a specific user",
        "parameters": [{"name": "user_jid", "in": "path", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "User status", "schema": {"$ref": "#/definitions/SuccessResponse"}},
          "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "404": {"description": "User not found", "schema": {"$ref": "#/definitions/ErrorResponse"}},
          "500": {"description": "Internal server error", "schema": {"$ref": "#/definitions/ErrorResponse"}}
        }
      }
    }
  }
}
