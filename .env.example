# -----------------------------------
# Server Configuration
# -----------------------------------
SERVER_ADDRESS=0.0.0.0
SERVER_PORT=7001

# -----------------------------------
# HTTP Configuration
# -----------------------------------
HTTP_BASE_URL=/api/v1/whatsapp

# HTTP_CORS_ORIGIN=*
# HTTP_BODY_LIMIT_SIZE=8m
# HTTP_GZIP_LEVEL=1

# HTTP_CACHE_CAPACITY=100
# HTTP_CACHE_TTL_SECONDS=5

# -----------------------------------
# Authentication Configuration
# -----------------------------------
# Admin secret key for /admin/* endpoints (required for API key management)
ADMIN_SECRET_KEY=ThisIsAdminSecretKey

# JWT secret key for device token signing (min 32 characters)
JWT_SECRET_KEY=YourSuperSecretJWTKeyAtLeast32CharsLong

# -----------------------------------
# WhatsApp Configuration
# -----------------------------------
WHATSAPP_DATASTORE_TYPE=postgres
WHATSAPP_DATASTORE_URI=postgres://whatsapp:secret@localhost:5432/whatsapp?sslmode=disable
WHATSAPP_KEYS_DATASTORE_URI=

WHATSAPP_CLIENT_PROXY_URL=""

WHATSAPP_MEDIA_IMAGE_COMPRESSION=true
WHATSAPP_MEDIA_IMAGE_CONVERT_WEBP=true

# Presence & typing simulation
WHATSAPP_AUTO_PRESENCE_ENABLED=true
WHATSAPP_AUTO_TYPING_ENABLED=true
WHATSAPP_TYPING_DELAY_MIN=1s
WHATSAPP_TYPING_DELAY_MAX=3s

# Read receipt jitter
WHATSAPP_READ_RECEIPT_JITTER_ENABLED=true
WHATSAPP_READ_RECEIPT_DELAY_MIN=500ms
WHATSAPP_READ_RECEIPT_DELAY_MAX=2s

# App state webhook toggles
WHATSAPP_APPSTATE_WEBHOOK_ENABLED=false

# Rate limiting
WHATSAPP_RATE_LIMIT_ENABLED=false
WHATSAPP_RATE_LIMIT_MSG_PER_MINUTE=20
WHATSAPP_RATE_LIMIT_BURST_SIZE=5

# WHATSAPP_VERSION_MAJOR=2
# WHATSAPP_VERSION_MINOR=3000
# WHATSAPP_VERSION_PATCH=1019175440

# WA Web version refresh (auto-handles "client outdated")
# Minimum interval between refresh attempts (throttling)
# WHATSAPP_WAVERSION_REFRESH_MIN_INTERVAL=10m

# Startup reconnect storm protection (recommended for 100s of sessions)
# WHATSAPP_STARTUP_RECONNECT_CONCURRENCY=10
# WHATSAPP_STARTUP_RECONNECT_JITTER_MAX=5s
# WHATSAPP_STARTUP_RECONNECT_RETRIES=3
# WHATSAPP_STARTUP_RECONNECT_BACKOFF_BASE=2s
# WHATSAPP_STARTUP_RECONNECT_BACKOFF_MAX=30s

# Scheduled WA Web version refresh (cron with seconds field)
# Example daily 03:00:00 -> "0 0 3 * * *"
# Example weekly Sunday 03:00:00 -> "0 0 3 * * 0"
# WHATSAPP_ENABLE_WAVERSION_REFRESH_CRON=false
# WHATSAPP_WAVERSION_REFRESH_CRON_SPEC=0 0 3 * * *
# WHATSAPP_WAVERSION_REFRESH_CRON_FORCE=false

# -----------------------------------
# 3rd Party Configuration
# -----------------------------------
LIBWEBP_VERSION=0.6.1

WEBHOOKS_ENABLED=true
WEBHOOK_WORKERS=4
WEBHOOK_RETRY_LIMIT=3
WEBHOOK_MAX_PER_DEVICE=5
